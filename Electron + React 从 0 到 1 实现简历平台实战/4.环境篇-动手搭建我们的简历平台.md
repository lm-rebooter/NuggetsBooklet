## å‰è¨€

å‰ç« èŠ‚é€šè¿‡å¯¹ Electron çš„ä»‹ç»ï¼Œæƒ³å¿…ä½ å¯¹å®ƒæœ‰äº†åŸºç¡€çš„äº†è§£ï¼Œåœ¨é˜…è¯»äº†[éœ€æ±‚åŠŸèƒ½è®¾è®¡ä¸æ•°æ®å­˜å‚¨æ–¹æ¡ˆè®¾è®¡](https://juejin.cn/book/6950646725295996940/section/6962435230061821952)ä¹‹åï¼Œä¹Ÿè®¸åœ¨ä½ çš„è„‘æµ·ä¸­å·²ç»å‹¾å‹’å‡ºäº†æ•´ä¸ªåº”ç”¨çš„æ•´ä½“ç»“æ„ï¼Œå…ˆä¸æ€¥ï¼æˆ‘ä»¬å…ˆæ‰“å¥½åŸºå»ºï¼Œä¸€æ­¥ä¸€æ­¥å°†é¡¹ç›®ç¯å¢ƒæ­å»ºèµ·æ¥ã€‚

æœ¬ç« èŠ‚å°†ä¼šå°† Electron ç¯å¢ƒæ­å»ºèµ·æ¥ï¼Œä¸¢æ‰ CRA è„šæ‰‹æ¶ï¼Œé€šè¿‡ä¸€æ­¥æ­¥çš„åŠ¨æ‰‹å®è·µï¼Œå¹¶å°† TypeScriptã€ESLintã€Prettier å¼•å…¥ï¼Œæœ€åæ­èµ·æˆ‘ä»¬çš„ React é¡¹ç›®ã€‚

> **Electron ä¸ React æ˜¯ç‹¬ç«‹çš„ï¼Œå¹¶ä¸äº’ç›¸å½±å“ï¼Œä¸è¦å°†å…¶æ†ç»‘åœ¨ä¸€å—**ã€‚ä½ å¯ä»¥é€šè¿‡æ­¤å°èŠ‚åªæ­å»º Electronï¼Œç„¶åç»“åˆè‡ªå·±å–œæ¬¢çš„ React ç¯å¢ƒï¼ˆä¹Ÿè®¸ä½ æ›´æƒ³ç”¨ CRAï¼‰

> **å¦‚æœä½ ä¸æƒ³åšPCç«¯ï¼Œæƒ³åšæˆ Web ç«¯å¯ä»¥è·³è¿‡ Electron ç¯èŠ‚ï¼Œç›´æ¥è¿›å…¥ç¬¬äºŒé˜¶æ®µ**ï¼Œâš ï¸ è¯·æ³¨æ„ï¼ŒPC ç«¯å’Œ Web ç«¯ä¼šåœ¨ Webpack çš„ target å±æ€§å¤„æœ‰æ‰€åŒºåˆ«ã€‚

**ğŸ§¨  å¦‚æœä½ é˜…è¯»å®Œä¹‹åï¼Œå¯¹å…¶ä¸­æ¯ä¸€ç¯èŠ‚éƒ½å·²äº†è§£ï¼Œä½†å‡ºäºæ—¶é—´æˆæœ¬ï¼Œæƒ³ç›´æ¥å¼€ç®±å³ç”¨ï¼Œä½ å¯ä»¥é€šè¿‡é¡¹ç›®åœ°å€çš„: [init-cli](https://github.com/PDKSophia/visResumeMook/tree/init-cli)ï¼Œå®Œæ•´é…ç½®çš„åˆ†æ”¯ä»£ç ï¼Œå¯ä»¥åŸºäºæ­¤åˆ†æ”¯ç›´æ¥è¿›è¡Œé¡¹ç›®å¼€å‘ï¼Œä»£ç æ‹‰å–ä¹‹åå®‰è£…ä¸€ä¸‹å³å¯å¼€å‘ã€‚**

## å¼€å‘å‰å¿…è¯»ï¼Electron ä¸ React çš„å…³ç³»

å°ä¼™ä¼´ä»¬å¯èƒ½ä¼šæœ‰äº›å›°æƒ‘ï¼Œ**åˆ°åº• Electron ä¸ React çš„å…³ç³»æ˜¯ä»€ä¹ˆ**ï¼Œåœ¨æ²¡ææ¸…æ¥šçš„æƒ…å†µä¸‹ï¼Œè´¸ç„¶å»å¼€å‘å®è·µï¼Œé—®é¢˜é¢‘å‘ã€‚ä¸ºäº†åœ¨åŠ¨æ‰‹æ­å»ºä¹‹å‰ï¼Œè®©æˆ‘ä»¬æ¥æ‹æ¸…æ¥šï¼Œè¿™äº›è®²ä¸æ¸…é“ä¸æ˜çš„å…³ç³»ã€‚

æŠ›å¼€ Electronï¼Œçº¯ Web çš„å¼€å‘ï¼Œé‚£ä¹ˆå¤§å®¶éƒ½æ¯”è¾ƒç†Ÿæ‚‰ï¼Œæœ€æ ¸å¿ƒçš„æ°¸è¿œæ˜¯ `HTML/CSS/JS`ï¼Œæ‰€è°“çš„ Reactã€Vueã€Angular éƒ½æ˜¯æ¡†æ¶ï¼Œé‚£äº› Lessã€Sassã€Stylus ç­‰éƒ½æ˜¯ CSS çš„â€œè¡ç”Ÿç‰©â€ã€‚

åœ¨æ²¡æœ‰è¿™äº›æ¡†æ¶ã€é¢„å¤„ç†åº“å‡ºç°ä¹‹å‰ï¼Œæˆ‘ä»¬å†™ä»£ç ï¼Œå‡æ˜¯è¿™æ ·çš„

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    // ğŸ‘‡ åŠ è½½a.js å’Œ a.css
    <script type="text/javascript" src="./a.js"></script>
    <link rel="stylesheet" type="text/css" href="a.css"></link>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
```

```js
// a.js
```

```js
// a.css
```

ç›¸æ¯”å¤§å®¶å¯¹æ­¤å¹¶ä¸é™Œç”Ÿï¼Œé‚£ä¹ˆå½“è¿™äº›æ¡†æ¶å‡ºç°ä¹‹åï¼Œæœ‰ä»€ä¹ˆå˜åŒ–å—ï¼Ÿä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œå¦‚ Vueã€React ç­‰æ¡†æ¶ï¼Œç»è¿‡ Babel ç¼–è¯‘ã€Webpack æ‰“åŒ…ä¹‹åï¼Œæœ€ç»ˆçš„äº§ç‰©æ˜¯ JSã€‚æ—¢ç„¶æ˜¯ JSï¼Œé‚£ä¹ˆæˆ‘ä»¬ HTML å¦‚ä½•åŠ è½½ JSï¼Ÿä½ ç»†å“ç»†å“

å†è¯´è¯´ Lessã€Sass ç­‰ï¼Œç»è¿‡ Webpakc çš„ Loader å¤„ç†ä¹‹åï¼Œæœ€ç»ˆäº§ç‰©æ˜¯ä»€ä¹ˆï¼ŸCSSï¼Œæ—¢ç„¶æ˜¯ CSSï¼Œé‚£ä¹ˆæˆ‘ä»¬ HTML å¦‚ä½•åŠ è½½ CSSï¼Ÿä½ å†ç»†å“ç»†å“

æ‰€ä»¥è¯´ï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œä¸‹é¢æ˜¯æ¥è‡ªæ˜é‡‘çš„ HTML æ‰€åŠ è½½çš„æ–‡ä»¶ï¼Œå†ä»”ç»†å“å°

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c37848d3b600498897e9660f0c6db558~tplv-k3u1fbpfcp-watermark.image)

ä¼ ç»Ÿçš„ Web å¼€å‘å°±æ˜¯å†™å®Œä»£ç ï¼ŒCtrl + S ä¿å­˜ï¼Œåˆ·æ–°é¡µé¢ï¼Œå¦‚æœä½ ç”¨ React æ¡†æ¶è¿›è¡Œå¼€å‘ï¼Œé‚£ä¹ˆä½ éœ€è¦æ¯æ¬¡æ”¹åŠ¨ä»£ç ä¹‹åï¼Œè¿›è¡Œä¸€æ¬¡ build æ‰“åŒ…ï¼Œå°†æ‰“åŒ…ä¹‹åçš„ JS æ–‡ä»¶ï¼Œåœ¨ HTML é¡µé¢ä¸­é‡æ–°åŠ è½½ï¼Œåˆ·æ–°é¡µé¢ï¼Œçœ‹åˆ°æœ€ç»ˆæ•ˆæœã€‚

> å¼ºçƒˆå»ºè®®ä½ æ­é…[ç¬¬äºŒç« -Electron è®¤è¯†](https://juejin.cn/book/6950646725295996940/section/6961585436967829516)ä¸[å½©è›‹ç¯‡-Webpack è®¤è¯†](https://juejin.cn/book/6950646725295996940/section/6962895331730620423)ä¸€èµ·é˜…è¯»ï¼Œæ•ˆæœæ›´ä½³ã€‚

ä¸€æ¥äºŒå»ï¼Œä½ æ€•æ˜¯ä¼šå£å–·èŠ¬èŠ³ï¼Œäºæ˜¯æˆ‘ä»¬éƒ½ä¼šåœ¨æœ¬åœ°èµ·ä¸€ä¸ª dev-server æœåŠ¡ï¼Œå…·ä½“è¡¨ç°å°±æ˜¯ï¼šåœ¨æµè§ˆå™¨ä¸­é€šè¿‡ `IP + Port`ï¼Œå°±èƒ½è®¿é—®åˆ°æˆ‘ä»¬çš„åº”ç”¨é¡µé¢ï¼Œæ¯”å¦‚ `http://127.0.0.1:7001` å°±èƒ½æœ¬åœ°è®¿é—®ç®€å†å¹³å°ã€‚

è¿™å°±æ˜¯æˆ‘ä»¬çš„ Web å¼€å‘ä»¥åŠåœ¨æµè§ˆå™¨ä¸Šå¦‚ä½•è®¿é—®ã€è°ƒè¯•ã€‚

æƒ³æ˜ç™½ä¹‹åï¼Œæˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ï¼Œåˆ°åº• Electron æ˜¯ä»€ä¹ˆç©æ„ï¼Œå®ƒè·Ÿ React æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿå¦‚æœä½ è®¤çœŸé˜…è¯»äº†[ç¬¬äºŒç« -Electron è®¤è¯†](https://juejin.cn/book/6950646725295996940/section/6961585436967829516)ï¼Œåº”è¯¥çŸ¥é“ï¼ŒElectron æ˜¯ä¸€ä¸ªè®©ä½ é‡‡ç”¨ Web æŠ€æœ¯å»å¼€å‘åŸç”Ÿåº”ç”¨çš„æ¡†æ¶ã€‚

è¿™ä¹ˆè¯´æœ‰äº›æŠ½è±¡ï¼Œæˆ‘ä¸¾ä¸ªä¾‹å­

ä½ æ˜¯ä¸€ä½åšä¸­é¤çš„å¨å¸ˆï¼ˆçº¯ Web æŠ€æœ¯ï¼‰ï¼Œä½ æƒ³å¼€ä¸€ä¸ªå¿«é¤åº—ï¼ˆåšä¸€ä¸ªåŸç”Ÿåº”ç”¨ï¼‰ï¼Œä½†ä½ æ²¡æœ‰é’±ï¼ˆè‡ªèº«ä¸å…·å¤‡åŸç”Ÿèƒ½åŠ›ï¼‰ä¹Ÿæ²¡äººæ‰‹ï¼ˆè‡ªèº«ä¸å…·å¤‡å¤šç«¯èƒ½åŠ›ï¼‰ï¼Œè¿™æ—¶å€™å¤©é™æ­£ä¹‰ï¼Œæœ‰ä¸ªå¤§è€æ¿ï¼ˆElectron æ¡†æ¶ï¼‰è·Ÿä½ è¯´ï¼Œä½ å°½ç®¡å¼€ï¼Œå…¶ä»–é—®é¢˜æˆ‘å¸®ä½ æå®šï¼ˆæ‰€æœ‰åŸç”Ÿé—®é¢˜ã€å¤šç«¯é—®é¢˜æˆ‘éƒ½å¸®ä½ è§£å†³ï¼‰ï¼Œä½ å¾ˆé«˜å…´ï¼Œä¹å‘µä¹å‘µå°±åŒæ„äº†ï¼ˆå®‰è£…äº† Electronï¼‰ï¼Œæ¥ç€å¤§è€æ¿æ‹äº†æ‹æ‰‹ï¼Œå«äº†ä¸€ä¸ªç®¡å®¶ï¼ˆä¸»è¿›ç¨‹ï¼‰è¿‡æ¥ï¼ŒæŒ‡äº†æŒ‡ä½ è¯´ï¼Œåœ¨æˆ‘ä»¬çš„å•†åœºé‡Œç»™è¿™ä½å¨å¸ˆåˆ†é…ä¸€ä¸ªæ¡£å£é“ºé¢ï¼ˆåˆ›å»ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œå¯¹åº”ä¸€ä¸ªæµè§ˆå™¨çª—å£ï¼‰ï¼Œäºæ˜¯ä½ åœ¨è¿™ä¸ªæ¡£å£é“ºé¢ï¼ˆæ¸²æŸ“è¿›ç¨‹ï¼‰ä¸­ï¼Œåˆ©ç”¨ä½ ç²¾é€šä¸­é¤æŠ€æœ¯ï¼ˆWeb æŠ€æœ¯ï¼‰å¤§å±•èº«æ‰‹ï¼Œå¤§è€æ¿è¿˜å¯¹ä½ è¯´ï¼Œæˆ‘ä»¬å•†åœºé‡Œçš„å…¬å…±è´¢äº§ï¼ˆElectron APIã€NodeJS æ¨¡å—ï¼‰ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ éƒ½èƒ½æ— æ¡ä»¶ä½¿ç”¨ï¼ˆæ¸²æŸ“è¿›ç¨‹åªèƒ½ç”¨éƒ¨åˆ† ElectronAPIï¼‰ã€‚

é€šè¿‡è¿™ä¹ˆä¸€ä¸ªé€šä¿—æ˜“æ‡‚çš„ä¾‹å­ï¼Œæƒ³å¿…å¤§å®¶å¯¹äº Electron å’Œ Web æŠ€æœ¯å·²ç»åˆ†æ¸…æ¥šå…³ç³»äº†ã€‚åœ¨åˆ›å»ºæ¸²æŸ“è¿›ç¨‹æ—¶ï¼Œä¼šå¯¹åº”ä¸€ä¸ªæµè§ˆå™¨çª—å£ï¼Œè¿™ä¸ªæµè§ˆå™¨çª—å£ï¼Œä½ å¯ä»¥ç†è§£ä¸º Chrome æµè§ˆå™¨ä¸­çš„ä¸€ä¸ª Tab æ ‡ç­¾ã€‚è¿™é‡Œå°±ä¼šæ¶‰åŠåˆ°æµè§ˆå™¨çš„è¿›ç¨‹æ¨¡å‹ï¼Œä¸å†å¤šè¯´ã€‚

**æš‚ä¸”æˆ‘ä»¬å°† Chrome æµè§ˆå™¨çš„ä¸€ä¸ª Tab æ ‡ç­¾æ¯”åšä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹**

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c697c3d4bc064e529d04f73eda89969d~tplv-k3u1fbpfcp-watermark.image)

é‚£ä¹ˆåœ¨ä½ ç‚¹å‡» â€œ+â€ å·æ–°å¢ Tab æ—¶ï¼Œæœ¬è´¨ä¸Šæ˜¯æ–°å¢ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ã€‚å¦‚æœå°†å…¶æ¯”ä½œ Electronï¼Œç­‰ä»·äºåœ¨ Electron ä¸­æ–°å¢äº†ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œå¹¶å¯¹åº”äº†ä¸€ä¸ªæµè§ˆå™¨çª—å£ã€‚ä»å±•ç¤ºå½¢å¼ä¸Šçœ‹ï¼ŒChrome æµè§ˆå™¨æ˜¯ä¸€ä¸ªçª—å£æ”¾å¤šä¸ª Tabï¼›è€Œåœ¨ Electron çœ‹åˆ°çš„æ˜¯ï¼Œå¤šä¸ªçª—å£çš„å¯¹åº”å¤šä¸ª Tabï¼ˆä¸€ä¸ªçª—å£å¯¹åº”ä¸€ä¸ª Tabï¼‰

> æœ‰å°ä¼™ä¼´é—®ï¼Œä¸ºä»€ä¹ˆæˆ‘ä¸èƒ½åœ¨ Electron ç”Ÿæˆçš„æµè§ˆå™¨çª—å£ä¸­æ–°å¢ Tabï¼Œä½ ä¸æ˜¯è¯´ Electron ç»§æ‰¿äº† Chromium æ¶æ„å—ï¼Ÿè¿™é—®é¢˜æˆ‘æƒ³ä½ çœ‹äº†ä¸Šæ®µè®²è¿°ä¹‹åï¼Œå†è‡ªå·±æ€è€ƒæ€è€ƒ

å†è¯´å›æ¥ï¼Œåœ¨ Chrome ä¸­ï¼Œæˆ‘ä»¬å¦‚ä½•æ˜¾ç¤º HTML é¡µé¢ï¼Ÿé€šè¿‡é“¾æ¥ URL çš„å½¢å¼ï¼Œæ¯”å¦‚ `http/https`ï¼Œæˆ–è€… `file://` ã€‚é‚£ä¹ˆåœ¨ Electorn ä¸­ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ¯ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹çš„å…¥å£æ–‡ä»¶å°±æ˜¯ä¸€ä¸ª HTML æˆ–è€… URL é“¾æ¥ï¼Œè¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä»£ç ä¸­éƒ½ä¼šè¿™ä¹ˆå†™

```ts
// Electron ä¸»è¿›ç¨‹
const mainWindow = new BrowserWindow({
  width: 1200,
  height: 800,
  webPreferences: {
    devTools: true,
    nodeIntegration: true,
  },
});
if (isDev()) {
  mainWindow.loadURL(`http://127.0.0.1:7001/index.html`);
} else {
  mainWindow.loadURL(`file://${path.join(__dirname, '../dist/index.html')}`);
}
```

åˆ°æ­¤å…³ç³»åº”è¯¥å¾ˆç›´ç™½äº†ï¼Œå°ä¼™ä¼´ä»¬åº”è¯¥éƒ½èƒ½æ˜ç™½ï¼Œä¸æ˜ç™½çš„å°±å¤šçœ‹ä¸¤éã€‚æœ€åä¸€ç‚¹ï¼Œæœ‰å°ä¼™ä¼´é—®ï¼Œèƒ½å¦åœ¨ Chrome ä¸­é€šè¿‡ `http://127.0.0.1:7001/index.html` è®¿é—®åº”ç”¨é¡µé¢å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šä¸ä¸€å®šå¯ä»¥ï¼å› ä¸º Electron å¯¹äºæ¸²æŸ“è¿›ç¨‹èµ‹äºˆäº†éƒ¨åˆ†åŸç”Ÿèƒ½åŠ›ï¼Œæ¯”å¦‚è¯´ä½ å¯ä»¥è°ƒç”¨ Electron APIã€NodeJS æ¨¡å—ï¼Œè¿™äº›åªæœ‰åœ¨ Electern ç”Ÿæˆçš„æµè§ˆå™¨çª—å£ä¸­æ‰èƒ½æ­£å¸¸è®¿é—®ä¸æŠ¥é”™ã€‚å¦‚æœä½ è·‘åˆ° Chrome æµè§ˆå™¨å»è®¿é—®ï¼ŒChrome æµè§ˆå™¨èƒ½è¯†åˆ« Node ä¸­çš„ fs æ˜¯ä»€ä¹ˆå—ï¼Ÿpath æ¨¡å—å¹²ä»€ä¹ˆç”¨ Chrome çŸ¥é“å—ï¼Ÿ**å°±å¥½æ¯”æˆ‘ç»™ä½ ä¸€å¼ å¹¿å·å¸‚ A åº—çš„ä¼šå‘˜å¡ï¼Œä½ éè·‘å» B åº—å¤§å£°åš·å›Šè¯´æ‰“æŠ˜ï¼Œäººå®¶èƒ½æ„¿æ„å—ï¼Ÿ**

ä»€ä¹ˆæ—¶å€™å¯ä»¥åœ¨ Chrome æµè§ˆå™¨è®¿é—®ï¼Ÿå°±æ˜¯ä½ çš„ React éƒ¨åˆ†ä»£ç ä¸­ï¼Œæ²¡æœ‰ ElectronAPI ç›¸å…³ä»£ç ï¼Œæ²¡æœ‰ NodeJS ç›¸å…³ä»£ç ï¼Œè¿™æ—¶å€™å°±å¯ä»¥äº†ã€‚

## ç¬¬ä¸€é˜¶æ®µï¼šElectron æ­å»º

å®˜æ–¹å¯¹äºåº”ç”¨æ­å»ºæœ‰è¯¦ç»†çš„æ–‡æ¡£è¯´æ˜ï¼Œä¸‹é¢åŸºäºå®˜æ–¹æ–‡æ¡£ï¼Œè®²è§£ä¸€ä¸‹ Electron çš„æ­å»º

### 1. å®‰è£… Node ç¯å¢ƒ

åœ¨æ­å»º Electron åº”ç”¨å‰ï¼Œè¯·å…ˆç¡®ä¿ä½ çš„ [Node.js](https://nodejs.org/en/download/) å·²ç»å®‰è£…ï¼Œæ¥ä¸‹æ¥åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤

```bash
node -v
npm -v
```

è¿™ä¸¤ä¸ªå‘½ä»¤åº”è¾“å‡ºäº† Node.js å’Œ npm çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚ å¦‚æœè¿™ä¸¤ä¸ªå‘½ä»¤éƒ½æ‰§è¡ŒæˆåŠŸï¼Œé‚£å°±æ¥ç€å¾€ä¸‹èµ°

### 2. å®‰è£… Electron

æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œåä¸º `visResumeMook`ï¼Œè¿›å…¥æ–‡ä»¶å¤¹å¹¶å®‰è£… Electron

> ç”±äºè¿™ä¸ªé¡¹ç›®åœ¨å†™å°å†Œä¹‹å‰å°±å·²ç»å¼€å‘ï¼Œæ‰€ä»¥å¦‚æœæ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œä¼šå‡ºç°ä¸€äº›å…¼å®¹é—®é¢˜ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆé™å®š ^11.1.1 ç‰ˆæœ¬

```bash
mkdir visResumeMook
cd visResumeMook
npm install electron@11.1.1
```

âš ï¸ æç¤ºï¼šç”±äºç½‘ç»œé—®é¢˜ï¼Œå¾€å¾€å®‰è£… Electron ä¼šå¾ˆæ…¢ï¼Œæ­¤æ—¶å¯ä»¥è€ƒè™‘æ¢ä¸ªæ·˜å®æº

### 3. åŸºæœ¬æ¡†æ¶ç»“æ„

å‰é¢è¯´äº†ï¼ŒElectron æ˜¯åŸºäº Chromium + Node.js å¼€å‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ Electron æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª Node.js åº”ç”¨ã€‚è¿™æ„å‘³ç€æ‚¨çš„ Electron åº”ç”¨ç¨‹åºçš„èµ·ç‚¹å°†æ˜¯ä¸€ä¸ª package.json æ–‡ä»¶ã€‚

æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª `package.json` æ–‡ä»¶ï¼Œå¹¶ä¸”åˆ›å»ºä¸»è¿›ç¨‹è„šæœ¬ `electron.js`ï¼Œè¯¥è„šæœ¬å°±æ˜¯åº”ç”¨ç¨‹åºçš„å…¥å£ã€‚ä¸ºäº†åŒºåˆ†ä¸»è¿›ç¨‹æ¨¡å—å’Œæ¸²æŸ“è¿›ç¨‹æ¨¡å—ï¼Œæˆ‘ä»¥æ–‡ä»¶å¤¹å½¢å¼è¿›è¡ŒåŒºåˆ†ã€‚

```js
â”œâ”€â”€ visResumeMook
â”‚ â”œâ”€â”€ app
â”‚ â”‚ â”œâ”€â”€ main      // ä¸»è¿›ç¨‹æ¨¡å—
â”‚ â”‚ â”‚    â”œâ”€â”€ electron.js
â”‚ â”‚ â”‚    â””â”€â”€ index.html
â”‚ â”‚ â”œâ”€â”€ renderer  // æ¸²æŸ“è¿›ç¨‹æ¨¡å—
â”‚ â”‚ â””â”€â”€
â”‚ â”œâ”€â”€ package.json
â”‚ â””â”€â”€
â””â”€â”€
```

### 4. ç¼–å†™ package.json

ç¼–å†™ä¸€ä¸‹æˆ‘ä»¬çš„ package.json é…ç½®ã€‚æˆ‘ä»¬å°†åº”ç”¨ç¨‹åºçš„å…¥å£æ–‡ä»¶é…ç½®ä¸ºä¸»è¿›ç¨‹è„šæœ¬

```json
{
  "name": "visResumeMook",
  "version": "0.0.1",
  "author": "å½­é“å®½",
  "description": "ä»0åˆ°1å®ç°ä¸€æ¬¾è½»å·§é€‚ç”¨çš„ç®€å†å¹³å°æ¡Œé¢åº”ç”¨ã€‚",
  "main": "./app/main/electron.js",
  "scripts": {
    "start:main": "electron ./app/main/electron.js",
    "install:electron": "ELECTRON_MIRROR=https://cdn.npm.taobao.org/dist/electron/ npm install electron"
  },
  "dependencies": {
    "electron": "^11.1.1"
  }
}
```

### 5. å®šä¹‰ html

æˆ‘ä»¬ç¼–å†™åˆ›å»ºä¸€ä¸ª HTMLï¼Œç­‰ä¼šåŠ è½½æ­¤é¡µé¢

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VisResumeMook</title>
  </head>
  <body>
    <div id="root">ç®€å†å¹³å°åº”ç”¨æ­å»ºèµ·æ¥å•¦ï¼</div>
  </body>
</html>
```

### 6. ç¼–å†™ä¸»è¿›ç¨‹

åœ¨ä¸»è¿›ç¨‹è„šæœ¬ä¸­ï¼Œé€šè¿‡ `BrowserWindow` åˆ›å»ºæµè§ˆå™¨çª—å£ï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼‰ï¼Œä½ å¯ä»¥å°†å…¶çœ‹æˆæµè§ˆå™¨çš„ä¸€ä¸ª Tabã€‚è¯·æ³¨æ„ `BrowserWindow` è¿˜æœ‰ä¸€ä¸ªé…ç½®å‚æ•°å«åš webPreferencesï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶é€‰é¡¹ä¸­çš„ `nodeIntegration` è®¾ç½®ä¸º trueï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­å°±èƒ½ä½¿ç”¨ nodeã€‚

```js
/**
 * @desc electron ä¸»å…¥å£
 */
const path = require('path');
const { app, BrowserWindow } = require('electron');

function createWindow() {
  // åˆ›å»ºæµè§ˆå™¨çª—å£
  const mainWindow = new BrowserWindow({
    width: 1200,
    height: 800,
    webPreferences: {
      nodeIntegration: true, // æ³¨å…¥nodeæ¨¡å—
    },
  });

  mainWindow.loadFile('index.html');
}

app.whenReady().then(() => {
  createWindow();
  app.on('activate', function () {
    if (BrowserWindow.getAllWindows().length === 0) createWindow();
  });
});
```

### 7. å¯åŠ¨åº”ç”¨ç¨‹åº

æœ€åæˆ‘ä»¬æ‰§è¡Œ `npm run start:main`ï¼Œå°±èƒ½çœ‹åˆ°æˆ‘ä»¬æ­å»ºçš„ç®€å†åº”ç”¨å•¦ï½

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/20f288e219754b50bd4802c0a235fe88~tplv-k3u1fbpfcp-watermark.image)

æœ€åæˆ‘ä»¬çœ‹çœ‹æ–‡ä»¶ç»“æ„

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7a01cd4f04d04aa5a90c98da7d5a0480~tplv-k3u1fbpfcp-watermark.image)

ğŸ§¨ ç¬¬ä¸€é˜¶æ®µçš„ä»£ç å¯¹åº” [electron-init](https://github.com/PDKSophia/visResumeMook/tree/electron-init)

## ç¬¬äºŒé˜¶æ®µï¼šReact æ­å»º

> ç”±äºè¿™ä¸ªé¡¹ç›®åœ¨å†™å°å†Œä¹‹å‰å°±å·²ç»å¼€å‘ï¼Œå¤§ç‰ˆæœ¬å‡çº§è‚¯å®šä¼šå‡ºç°ä¸€äº›å…¼å®¹é—®é¢˜ï¼Œä¸ºæ­¤ï¼Œä»¥ç›®å‰çš„ç‰ˆæœ¬ä¸ºä¸»

æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡åŠ¨æ‰‹å®è·µï¼Œä¸€æ­¥æ­¥æ¥æ­å»ºæˆ‘ä»¬çš„ React é¡¹ç›®ï¼Œå¦‚æœä½ è§‰å¾—ç¹çï¼Œä¹Ÿå¯ä»¥é€šè¿‡ CRA æ­å»ºï¼Œæˆ–è€…ç”¨å…¶ä»–è„šæ‰‹æ¶ç”Ÿæˆã€‚

### 1. å®‰è£… React

æˆ‘ä»¬æ‰“å¼€ç»ˆç«¯ï¼Œæ­¤æ—¶å…ˆå®‰è£… `React`ï¼Œå¹¶ä¸”å®‰è£…å®ƒç›¸åº”çš„å…„å¼Ÿå§å¦¹

```bash
npm install react@17.0.2
npm install react-router@5.2.0 react-router-dom@5.2.0 react-dom@17.0.2
```

### 2. å®‰è£… Babel

æ¥ç€å®‰è£…ä¸€ä¸‹ `Babel`ï¼Œå®ƒæ˜¯ JS ç¼–è¯‘å™¨ï¼Œèƒ½å°† ES6 ä»£ç è½¬æˆ ES5ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨æœ€è¿‘çš„è¯­è¨€ç‰¹æ€§ï¼Œè€Œä¸éœ€è¦æ‹…å¿ƒå…¼å®¹æ€§çš„é—®é¢˜ã€‚å…³äº `install` çš„åº“ï¼Œæ¥ä¸‹æ¥ä¼šè®²å…¶ä½œç”¨

```bash
npm install @babel/polyfill@7.12.1 --save
npm install @babel/core@7.14.3 @babel/cli@7.14.3 --save-dev
npm install @babel/preset-env@7.14.2 @babel/preset-react@7.13.13 @babel/preset-typescript@7.13.0 --save-dev

npm install @babel/plugin-transform-runtime@7.14.3 --save-dev
npm install @babel/plugin-transform-modules-commonjs@7.14.0 --save-dev
```

å®‰è£…å®Œæˆä¹‹åï¼Œæ ¹æ® [Babel å®˜ç½‘](https://babeljs.io/docs/en/usage#overview)çš„æ•™ç¨‹ï¼Œæˆ‘ä»¬åˆ›å»º `babel.config.js`ï¼Œé…ç½®ä¸€ä¸‹æˆ‘ä»¬å¸¸ç”¨çš„æ’ä»¶ plugins å’Œ é¢„è®¾å€¼ presets

```js
module.exports = {
  presets: [
    '@babel/preset-env', // ğŸ‘‰ æ ¹æ®é…ç½®çš„ç›®æ ‡æµè§ˆå™¨æˆ–è€…è¿è¡Œç¯å¢ƒï¼Œé€‰æ‹©å¯¹åº”çš„è¯­æ³•åŒ…ï¼Œä»è€Œå°†ä»£ç è¿›è¡Œè½¬æ¢
    '@babel/preset-react', // ğŸ‘‰ react è¯­æ³•åŒ…ï¼Œè®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ React ES6 Class Component çš„å†™æ³•ï¼Œæ”¯æŒJSXã€TSXè¯­æ³•æ ¼å¼
    '@babel/preset-typescript', // ğŸ‘‰ https://github.com/babel/babel/issues/10570
  ],
  plugins: [
    '@babel/plugin-transform-runtime', // ğŸ‘‰ å®˜æ–¹æä¾›çš„æ’ä»¶ï¼Œä½œç”¨æ˜¯å‡å°‘å†—ä½™çš„ä»£ç 
    [
      '@babel/plugin-transform-modules-commonjs', // ğŸ‘‰ å°† ECMAScript modules è½¬æˆ CommonJS.
      {
        allowTopLevelThis: true,
        loose: true,
        lazy: true,
      },
    ],
  ],
};
```

### 3. å®‰è£… Webpack

> ğŸŒˆ å¦‚æœä½ å¯¹ Webpack è¿˜å­˜åœ¨ç–‘é—®ï¼Œå¼ºçƒˆå»ºè®®ä½ çœ‹ä¸€ä¸‹[å½©è›‹ç¯‡-WebpackåŸºç¡€ä»‹ç»ä¸ä¸¤å¤§åˆ©å™¨](https://juejin.cn/book/6950646725295996940/section/6962895331730620423)

æˆ‘ä»¬å®‰è£…ä¸€ä¸‹ `Webpack`ï¼Œå…³äºå®ƒçš„`ä¼ å¥‡`æ•…äº‹å’Œæ ¸å¿ƒçµé­‚å·²åœ¨å‰è¾¹ç« èŠ‚æœ‰ä»‹ç»ï¼Œå¿˜è®°äº†çš„å°ä¼™ä¼´å¯ä»¥å›å»å†çœ‹ä¸€éã€‚

```bash
npm install webpack@4.44.1 --save-dev
npm install webpack-cli@3.3.12 --save-dev
```

æˆ‘ä»¬æœŸæœ›ç›‘å¬æ–‡ä»¶çš„å˜åŒ–ï¼Œèƒ½å¤Ÿè‡ªåŠ¨åˆ·æ–°ç½‘é¡µï¼Œåšåˆ°å®æ—¶é¢„è§ˆï¼Œè€Œä¸æ˜¯æ”¹åŠ¨ä¸€ä¸ªå­—æ¯ï¼Œä¸€ä¸ªæ–‡å­—éƒ½éœ€è¦é‡æ–°æ‰“åŒ…ã€‚ä¸šç•Œè¾ƒä¸ºæˆç†Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡ï¼š`webpack-dev-server` æ’ä»¶ï¼ŒOKï¼Œæˆ‘ä»¬å®‰è£…å®ƒã€‚

```bash
npm install webpack-dev-server@3.11.2 --save-dev
```

å¯¹äºä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹æ¥è®²ï¼Œwebpackçš„é…ç½®æ˜¯ä¼šå­˜åœ¨å·®å¼‚çš„ã€‚æ¯”å¦‚æ¸²æŸ“è¿›ç¨‹å¯èƒ½éœ€è¦ less-loaderã€htmlWebpackPlugins ç­‰â€œä¸“å±â€é…ç½®ï¼Œè€Œè¿™äº›é…ç½®å¯¹äºä¸»è¿›ç¨‹æ¥è®²ï¼Œæ˜¯æ— ç”¨çš„ã€‚

å­˜åœ¨å·®å¼‚çš„åŒæ—¶åˆä¼šæœ‰ç›¸åŒç‚¹ï¼Œæ¯”å¦‚ alias åˆ«åé…ç½®ç­‰ï¼Œå½“æˆ‘ä»¬ä¸é‡‡ç”¨ webpack-merge æ—¶ï¼Œä¼šå¯¼è‡´æ¯ä»½é…ç½®ä¼šå­˜åœ¨é‡å¤çš„â€œé…ç½®â€ä»£ç ã€‚å…¶æ¬¡åœ¨ dev å’Œ prod ç¯å¢ƒä¸‹ï¼Œé…ç½®ä¼šå­˜åœ¨ä¸€äº›å°å·®åˆ«ï¼Œè¿™æ—¶æˆ‘ä»¬ä»£ç ä¸­ä¼šå……æ–¥ç€ä¸€äº›ä¸‰å…ƒè¿ç®—ç¬¦æ¥åˆ¤æ–­ç¯å¢ƒã€‚**æœ€åçš„ç»“æœä¸ºæ¯ä¸€ä»½é…ç½®çš„å¯è¯»æ€§ç›¸å¯¹è¾ƒå·®**ã€‚

ä¸ºæ­¤æˆ‘ä»¬é€šè¿‡ webpack-merge æ’ä»¶è¿›è¡Œå¤„ç†ï¼ˆğŸ‘‰ è¯„è®ºåŒºæœ‰è§£ç­”ï¼‰

```bash
npm install webpack-merge --save-dev
```

æˆ‘ä»¬ä¸æƒ³æ¯æ¬¡æ‰“åŒ…éƒ½éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ HTML ä¸­çš„æ–‡ä»¶å¼•ç”¨ï¼Œå¹¶ä¸”æœŸæœ›é‡‡ç”¨è‡ªå·±å†™çš„ HTML æ–‡ä»¶ä¸ºæ¨¡ç‰ˆï¼Œç”Ÿæˆæ‰“åŒ…ä¹‹åçš„å…¥å£ HTMLï¼Œä¸ºæ­¤æˆ‘ä»¬é‡‡ç”¨ `html-webpack-plugin` æ’ä»¶è¿›è¡Œå¤„ç†ã€‚

```js
npm install html-webpack-plugin@4.3.0 --save-dev
```

å› ä¸ºæ¯æ¬¡æ‰“åŒ…çš„æ–‡ä»¶ä¼šä¸åŒï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ é™¤ä¹‹å‰çš„ dist æ–‡ä»¶ï¼Œå†é‡æ–°æ‰“åŒ…ï¼Œä¸ºæ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ `clean-webpack-plugin` è¿›è¡Œè§£å†³

```
npm install clean-webpack-plugin --save-dev
```

ç”±äº Babel ç”¨äºç¼–è¯‘ï¼ŒWebpack ç”¨äºæ‰“åŒ…è¾“å‡ºï¼Œä¸¤è€…å„å¸å…¶èŒï¼Œæˆ‘ä»¬é€šè¿‡ `babel-loader` æ‰“é€šä»–ä»¬çš„è”ç³»ã€‚

```bash
npm install babel-loader --save-dev
```

åœ¨ä¸Šé¢éƒ½å®‰è£…å¥½ç›¸å…³åº“ä¹‹åï¼Œæ¥ä¸‹æ¥åˆ°åŠ¨æ‰‹ç¯èŠ‚ï¼Œé¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª `webpack` æ–‡ä»¶å¤¹ï¼Œä¸“é—¨å­˜æ”¾ webpack ç›¸å…³é…ç½®ï¼Œè¿™é‡Œä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ–‡ä»¶ï¼š

- `webpack.base.js`ï¼šåŸºç¡€å…¬å…±é…ç½®
- `webpack.main.dev.js`ï¼šä¸»è¿›ç¨‹å¼€å‘ç¯å¢ƒé…ç½®
- `webpack.render.dev.js`ï¼šæ¸²æŸ“è¿›ç¨‹å¼€å‘ç¯å¢ƒé…ç½®

#### 3.1 webpack.base.js

æˆ‘ä»¬å…ˆæ¥åˆ›å»º `webpack.base.js` åŸºç¡€å…¬å…±é…ç½®æ–‡ä»¶

```js
const path = require('path');
const { CleanWebpackPlugin } = require('clean-webpack-plugin');

module.exports = {
  resolve: {
    extensions: ['.js', '.jsx', '.ts', '.tsx'],
    alias: {
      '@src': path.join(__dirname, '../', 'app/renderer'),
    },
  },
  module: {
    rules: [
      {
        test: /\.(js|jsx|ts|tsx)$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
        },
      },
    ],
  },
  plugins: [new CleanWebpackPlugin()],
};
```

è§£è¯»ä¸€ä¸‹è¿™æ®µä»£ç ï¼ŒWebpack åœ¨å¯åŠ¨åä¼šä»é…ç½®çš„å…¥å£æ¨¡å—å‡ºå‘ï¼Œæ‰¾åˆ°æ‰€æœ‰ä¾èµ–çš„æ¨¡å—ï¼Œ`resolve` é…ç½® Webpack å¦‚ä½•å¯»æ‰¾æ¨¡å—æ‰€å¯¹åº”çš„æ–‡ä»¶ã€‚æˆ‘ä»¬é…ç½®äº† [extensions](https://webpack.js.org/configuration/resolve/#resolveextensions)ï¼Œè¡¨ç¤ºåœ¨å¯¼å…¥è¯­å¥ä¸­æ²¡å¸¦æ–‡ä»¶åç¼€æ—¶ï¼ŒWebpack ä¼šè‡ªåŠ¨å¸¦ä¸Šåç¼€å»å°è¯•è®¿é—®æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚

æˆ‘ä»¬é…ç½®ä¸­ï¼Œé…ç½®äº† `extensions: ['.js', '.jsx', '.ts', '.tsx']`ï¼Œæ„å‘³ç€å½“é‡åˆ° `import A from './A'` æ—¶ï¼Œä¼šå…ˆå¯»æ‰¾ A.jsã€æ‰¾ä¸åˆ°å°±å»æ‰¾ `A.jsx`ï¼ŒæŒ‰ç…§è§„åˆ™æ‰¾ï¼Œæœ€åè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŠ¥é”™ã€‚

[alias](https://webpack.js.org/configuration/resolve/#resolvealias) ä»£è¡¨åˆ«åï¼Œå› ä¸ºæˆ‘ä»¬ç»å¸¸å†™ `import A from '../../../../../A'`è¿™ç§å¯¼å…¥è·¯å¾„ï¼Œç‰¹åˆ«æ¶å¿ƒï¼Œæ‰€ä»¥é€šè¿‡é…ç½®åˆ«åå¤„ç†ã€‚å…³äº Loaderï¼Œæˆ‘ä»¬å‰è¾¹å°èŠ‚å·²ä»‹ç»ï¼Œå®ƒå°±æ˜¯æ¨¡å—æ‰“åŒ…æ–¹æ¡ˆï¼Œä¸Šè¿°ä»£ç å³è¡¨ç¤ºï¼šå½“åŒ¹é…åˆ° `/\.(js|jsx|ts|tsx)$/` æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ `babel-loader` å»å¤„ç†ä¸€ä¸‹ã€‚

#### 3.2 webpack.main.dev.js

æˆ‘ä»¬çœ‹çœ‹ä¸»è¿›ç¨‹çš„é…ç½®ï¼Œæ–°å¢ `webpack.main.dev.js` æ–‡ä»¶

```js
const path = require('path');
const baseConfig = require('./webpack.base.js');
const webpackMerge = require('webpack-merge');

const mainConfig = {
  entry: path.resolve(__dirname, '../app/main/electron.js'),
  target: 'electron-main',
  output: {
    filename: 'electron.js',
    path: path.resolve(__dirname, '../dist'),
  },
  devtool: 'inline-source-map',
  mode: 'development',
};

module.exports = webpackMerge.merge(baseConfig, mainConfig);
```

è§£è¯»ä¸€ä¸‹è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬å®šä¹‰å…¥å£æ–‡ä»¶ä¸º `/app/main/electron.js`ï¼Œå¹¶ä¸”å®šä¹‰æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ç›®å½•ä¸º distï¼Œæ–‡ä»¶åä¸º electron.jsã€‚

éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼š**ç”±äº JS çš„åº”ç”¨åœºæ™¯æ—¥ç›Šå¢é•¿ï¼Œä»æµè§ˆå™¨åˆ° Nodeï¼Œè¿è¡Œåœ¨ä¸åŒç¯å¢ƒä¸‹çš„ JS ä»£ç å­˜åœ¨ä¸€äº›å·®å¼‚ã€‚target é…ç½®é¡¹å¯ä»¥è®© Webpack æ„å»ºå‡ºä¸åŒè¿è¡Œç¯å¢ƒçš„ä»£ç **

å…³äº [target çš„å¯é€‰é¡¹](https://webpack.js.org/configuration/target/#target)ï¼Œå¯ä»å®˜ç½‘æŸ¥é˜…ï¼Œè¿™é‡Œæˆ‘ä»¬å°†å…¶é…ç½®æˆ `electron-main`ï¼Œè‡³äºä¸»è¿›ç¨‹çš„ pluginsï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€äº›æ„å»ºå˜é‡ã€‚æœ€åé€šè¿‡ webpack-merge åˆå¹¶å¯¼å‡ºä¸€ä»½å®Œæ•´çš„é…ç½®ã€‚

#### 3.3 webpack.render.dev.js

åœ¨è¯´é…ç½®ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ›å»ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹å¯¹åº”çš„ä»£ç æ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬åœ¨ `app` æ–‡ä»¶å¤¹ä¸‹æ–°å¢ä¸€ä¸ªåä¸º `renderer` æ–‡ä»¶å¤¹ã€‚

å›é¡¾ä¸€ä¸‹ä¹‹å‰ Electron éƒ¨åˆ†æ˜¯ä¸æ˜¯æœ‰ä¸€ä¸ª `index.html` æ–‡ä»¶ï¼Œæˆ‘ä»¬æˆ‘ä»¬å°†å…¶ç§»åŠ¨åˆ° `renderer` æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶ä¿®æ”¹å®ƒ

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VisResumeMook</title>
    <style>
      * {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
```

æ¥ç€æˆ‘ä»¬åœ¨ `renderer` ä¸‹åˆ›å»ºä¸€ä¸ª React çš„ `app.jsx` æ–‡ä»¶

```jsx
import React from 'react';
import ReactDOM from 'react-dom';
import { HashRouter as Router, Route, Switch } from 'react-router-dom';

function App() {
  return (
    <Router>
      <Switch>
        <Route path="/">
          <div>å¯è§†åŒ–ç®€å†å¹³å°</div>
          <div>è¿™æ˜¯ Electron + React </div>
        </Route>
      </Switch>
    </Router>
  );
}

ReactDOM.render(<App />, document.getElementById('root'));
```

æˆ‘ä»¬å†æ¥ä¿®æ”¹ä¸€ä¸‹æ¸²æŸ“è¿›ç¨‹çš„ç›¸å…³é…ç½®ï¼Œæ–°å¢ `webpack.render.dev.js` æ–‡ä»¶

```js
const path = require('path');
const webpackMerge = require('webpack-merge');
const baseConfig = require('./webpack.base.js');
const HtmlWebpackPlugin = require('html-webpack-plugin');

const devConfig = {
  mode: 'development',
  entry: {
    // ğŸ‘‡ å¯¹åº”æ¸²æŸ“è¿›ç¨‹çš„ app.jsx å…¥å£æ–‡ä»¶
    index: path.resolve(__dirname, '../app/renderer/app.jsx'),
  },
  output: {
    filename: '[name].[hash].js',
    path: path.resolve(__dirname, '../dist'),
  },
  target: 'electron-renderer',
  devtool: 'inline-source-map',
  devServer: {
    contentBase: path.join(__dirname, '../dist'),
    compress: true,
    host: '127.0.0.1', // webpack-dev-serverå¯åŠ¨æ—¶è¦æŒ‡å®šipï¼Œä¸èƒ½ç›´æ¥é€šè¿‡localhostå¯åŠ¨ï¼Œä¸æŒ‡å®šä¼šæŠ¥é”™
    port: 7001, // å¯åŠ¨ç«¯å£ä¸º 7001 çš„æœåŠ¡
    hot: true,
  },
  plugins: [
    new HtmlWebpackPlugin({
      // ğŸ‘‡ ä»¥æ­¤æ–‡ä»¶ä¸ºæ¨¡ç‰ˆï¼Œè‡ªåŠ¨ç”Ÿæˆ HTML
      template: path.resolve(__dirname, '../app/renderer/index.html'),
      filename: path.resolve(__dirname, '../dist/index.html'),
      chunks: ['index'],
    }),
  ],
};

module.exports = webpackMerge.merge(baseConfig, devConfig);
```

è§£è¯»ä¸€ä¸‹è¿™æ®µä»£ç ï¼Œä»¥ `/app/renderer/app.jsx` ä¸ºå…¥å£ï¼Œå¹¶é…ç½®äº†æœ¬åœ°å¼€å‘ devServerï¼Œé€šè¿‡ `HtmlWebpackPlugin` è‡ªåŠ¨ç”Ÿæˆä¸€ä»½ä»¥ `/app/renderer/index.html` ä¸ºæ¨¡ç‰ˆçš„ HTML æ–‡ä»¶ã€‚æ³¨æ„æ­¤æ—¶çš„ **target**æ˜¯é’ˆå¯¹ Electron æ¸²æŸ“è¿›ç¨‹ã€‚æœ€åé€šè¿‡ `webpack-merge` åˆå¹¶å¯¼å‡ºä¸€ä»½å®Œæ•´é…ç½®ã€‚

### 5. Electron ä¸ React ç»“åˆèµ·æ¥

å¯¹äº Webpack ç›¸å…³é…ç½®å·²ç»æ­å»ºå®Œæ¯•ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ç°åœ¨æˆ‘ä»¬çš„æ–‡ä»¶ç›®å½•éƒ½æœ‰å“ªäº›ï¼Ÿ

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c44ce8a91c284a9089ff08dba7991c8b~tplv-k3u1fbpfcp-watermark.image)

æ¥ä¸‹æ¥æˆ‘ä»¬è®© Electron å’Œ React ç»“åˆèµ·æ¥ï¼Œå‰é¢è®²åˆ°ï¼ŒElectron å¯ä»¥ç†è§£ä¸ºé¡µé¢æ·»åŠ äº†ä¸€ä¸ªå£³ï¼Œç”±äºæˆ‘ä»¬å°†ä¸»è¿›ç¨‹ä¸­çš„ `index.html` ç§»åˆ°äº†æ¸²æŸ“è¿›ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹ `electron.js`

```js
/**
 * @desc electron ä¸»å…¥å£
 */
import path from 'path';
import { app, BrowserWindow } from 'electron';

function isDev() {
  // ğŸ‘‰ è¿˜è®°å¾—æˆ‘ä»¬é…ç½®ä¸­é€šè¿‡ webpack.DefinePlugin å®šä¹‰çš„æ„å»ºå˜é‡å—
  return process.env.NODE_ENV === 'development';
}

function createWindow() {
  // åˆ›å»ºæµè§ˆå™¨çª—å£
  const mainWindow = new BrowserWindow({
    width: 1200,
    height: 800,
    webPreferences: {
      devTools: true,
      nodeIntegration: true,
    },
  });

  if (isDev()) {
    // ğŸ‘‡ çœ‹åˆ°äº†å—ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬åŠ è½½çš„æ˜¯è¿è¡Œåœ¨ 7001 ç«¯å£çš„ React
    mainWindow.loadURL(`http://127.0.0.1:7001`);
  } else {
    mainWindow.loadURL(`file://${path.join(__dirname, '../dist/index.html')}`);
  }
}

app.whenReady().then(() => {
  createWindow();
  app.on('activate', function () {
    if (BrowserWindow.getAllWindows().length === 0) createWindow();
  });
});
```

ğŸ‰ æ¥ç€è¿›å…¥ `package.json` æ–‡ä»¶ä¸­ï¼Œä¿®æ”¹ä¸€ä¸‹å¯åŠ¨è„šæœ¬å‘½ä»¤ï¼Œæ·»åŠ æ¸²æŸ“è¿›ç¨‹çš„å¯åŠ¨æ–¹å¼

```json
"scripts": {
    "start:main": "webpack --config ./webpack/webpack.main.dev.js && electron ./dist/electron.js",
    "start:render": "webpack-dev-server --config ./webpack/webpack.render.dev.js"
  },
```

### 6. è·‘èµ·æ¥

æˆ‘ä»¬å¼€ä¸¤ä¸ªç»ˆç«¯ï¼Œä¸€ä¸ªè·‘ `npm run start:render`ï¼Œå¦ä¸€ä¸ªè·‘ `npm run start:main`ï¼Œçœ‹çœ‹ç»“æœ

> è¯·æ³¨æ„ï¼Œè¿™é‡Œæ˜¯åŒæ—¶å¼€ä¸¤ä¸ªç»ˆç«¯ï¼Œä¸æ˜¯å…ˆè·‘ä¸€ä¸ªï¼Œå†è·‘å¦ä¸€ä¸ªã€‚

ğŸ‘ ä¸å‡ºæ„å¤–ï¼Œç»“æœå¾ˆæ£’ï¼ŒElectron å’Œ React è¿™ç¯å¢ƒç»ˆäºæ‰“é€šï¼

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5335973c7d14309beb2395c217b3c1d~tplv-k3u1fbpfcp-watermark.image)

> å¦‚æœå‡ºç°æŠ¥é”™ï¼š`Uncaught ReferenceError: require is not defined`ï¼Œè¯·æ£€æŸ¥ä½ æ˜¯å¦åœ¨ä¸»è¿›ç¨‹ä¸­æ·»åŠ è¿™è¡Œä»£ç ï¼Œå¦‚æœæ·»åŠ äº†ï¼Œè¯·ç¡®ä¿ä½ æ­å»ºé¡¹ç›®çš„ Electron ä¸æœ¬åº”ç”¨çš„ç‰ˆæœ¬ä¸€è‡´(å½“å‰é¡¹ç›®çš„ Electron@^11.1.1)

> è¯·è‡ªæ£€æŸ¥ä¸€ä¸‹ä½ çš„ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®ï¼Œè¿›å…¥ node_modulesï¼Œæ‰¾åˆ° electronï¼Œçœ‹çœ‹ package.json ä¸­çš„ version æ˜¯å¦æ˜¯ 11.1.1ã€‚

```js
// åˆ›å»ºæµè§ˆå™¨çª—å£
   const mainWindow = new BrowserWindow({
     // ... 
     webPreferences: {
       // ğŸ‘‡ è¯·ç¡®ä¿æ·»åŠ æ­¤é…ç½®
       nodeIntegration: true,
     },
   });
```

ğŸ§¨ ç¬¬äºŒé˜¶æ®µçš„ä»£ç å¯¹åº” [electron-react-init](https://github.com/PDKSophia/visResumeMook/tree/electron-react-init)

## ç¬¬ä¸‰é˜¶æ®µï¼šå¼•å…¥æ›´å¤šæŠ€æœ¯ç‚¹

æ¥ä¸‹æ¥å¼•å…¥ TypeScriptã€ESLintã€Prettierï¼Œè®©æ•´ä¸ªé¡¹ç›®çœ‹èµ·æ¥æ›´åŠ ä¸°å¯Œã€‚

### 1. å®‰è£… TypeScript

> å…³äº TS çš„å…¥é—¨å­¦ä¹ ï¼Œæˆ‘å»ºè®®å°ä¼™ä¼´ä»¬å»çœ‹[å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/docs/)ï¼Œç»“åˆé¡¹ç›®å»ä¸Šæ‰‹å†™ TSï¼Œé¡¹ç›®ä¸­çš„ TS ä¸ä¼šæœ‰å¾ˆå¤šå¤æ‚éš¾ä»¥ç†è§£çš„åœ°æ–¹ï¼Œå†™ç€å†™ç€ï¼Œä½ ä¼šå‘ç°å…¶å® TS æ²¡é‚£ä¹ˆéš¾ï¼Œå¦‚æœä½ æƒ³æå‡ TSï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹ [type-challenges](https://github.com/type-challenges/type-challenges) è¿™ä¸ªåº“

å…ˆå®‰è£… `TypeScript`

```
npm install typescript --save-dev 
```

è£…å®Œä¹‹åï¼Œ**æˆ‘ä»¬å°†é¡¹ç›®ä¸­çš„ jsã€jsx æ–‡ä»¶éƒ½æ”¹é€ æˆ tsã€tsx**

ç”±äºæˆ‘ä»¬å°† `renderer/app.jsx` ä½œä¸ºå…¥å£æ–‡ä»¶ï¼Œæ‰€ä»¥ä¿®æ”¹åï¼Œå‰å¾€ `webpack.render.dev.js` æ–‡ä»¶ä¿®æ”¹ `entry` ï¼Œé¿å…é¡¹ç›®å¯åŠ¨æŠ¥å¼‚å¸¸

```js
entry: {
  // ğŸ‘‡ è¿™é‡Œæ”¹æˆ.tsx
  index: path.resolve(__dirname, '../app/renderer/app.tsx'),
}
```

åŒæ—¶å¯¹äºä¸»è¿›ç¨‹ `main/electron.js` ä¹Ÿéœ€è¦å» `webpack.main.dev.js` ä¿®æ”¹ä¸€ä¸‹ `entry`

```js
entry: {
  // ğŸ‘‡ è¿™é‡Œæ”¹æˆ.ts
  entry: path.resolve(__dirname, '../app/main/electron.ts'),
}
```

æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ `renderer` æ–‡ä»¶å¤¹ä¸‹æ–°å¢ä¸€ä¸ªæ–‡ä»¶å¤¹å–åä¸º titleï¼Œåœ¨æ­¤æ–‡ä»¶å¤¹ä¸‹æ–°å¢ index.tsx æ–‡ä»¶ï¼Œè®©æˆ‘ä»¬æ¥å†™ä¸€ä¸‹è¯¥ç»„ä»¶ï¼Œå¹¶å®šä¹‰ç»„ä»¶çš„ Props

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/135b691001c742fa8687bb6b63b674c0~tplv-k3u1fbpfcp-watermark.image)

æˆ‘ä»¬ä¼šå‘ç°ï¼ŒTS æç¤ºé”™è¯¯ï¼ŒåŸæ¥æˆ‘ä»¬è¿˜æ²¡å®‰è£… React å¯¹åº”çš„ TS åŒ…ï¼Œå®‰è£…ä¸€ä¸‹

```bash
npm install @types/react --save-dev
npm install @types/react-dom --save-dev
npm install @types/react-redux --save-dev
npm install @types/react-router-dom --save-dev
```

è£…å¥½ä¹‹åï¼Œæˆ‘ä»¬ç»§ç»­å†™ç»„ä»¶

```ts
import React from 'react';

interface IProps {
  /**
   * @description æ ‡é¢˜
   */
  text: string;
  /**
   * @description æ ·å¼
   */
  styles?: React.CSSProperties;
}

function Title({
    text,styles
}: IProps) {
    return (
        <div  style={styles}>{text}</div>
    )
}

export default Title;
```

æˆ‘ä»¬åœ¨ app.tsx ä¸‹å¼•å…¥æ­¤ç»„ä»¶ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯ä¼šæœ‰æç¤º

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c7027ad07814a8ab1bacb523e3a4cc9~tplv-k3u1fbpfcp-watermark.image)

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2fbc2f3e80874c10b95dd15bd7e973a4~tplv-k3u1fbpfcp-watermark.image)

ä¸€åˆ‡å¦‚æˆ‘ä»¬çš„é¢„æœŸï¼Œè¿™è¡¨ç¤ºæˆ‘ä»¬å¯ä»¥å¾ˆæ„‰å¿«çš„ä½¿ç”¨ TS å¼€å‘äº†ã€‚

### 2. å®‰è£… ESLint + Prettier

æˆ‘ä»¬çœ‹ä¸Šé¢çš„ `<Title />` ç»„ä»¶ï¼Œçœ‹ç€æœ‰ç‚¹è†ˆåº”ï¼Œå¥½åƒä¸è¯¥æ¢è¡Œçš„å®ƒæ¢è¡Œäº†ï¼Œè¯¥æ¢è¡Œçš„æ²¡æ¢è¡Œã€‚æˆ‘ä»¬æ€»ä¸èƒ½æ‰‹åŠ¨çš„å»æŒ‰å›è½¦ã€åˆ ç©ºæ ¼å§ï¼Ÿ

è¿™æ—¶æˆ‘ä»¬ä½¿ç”¨ `Prettier` è¿›è¡Œä»£ç æ ¼å¼åŒ–ï¼Œç›¸æ¯”äº ESLint ä¸­çš„ä»£ç æ ¼å¼è§„åˆ™ï¼Œå®ƒæ›´åŠ ä¸“ä¸šã€‚åŒæ—¶æˆ‘ä»¬é‡‡ç”¨ `ESLint` æ¥ç»Ÿä¸€ä»£ç é£æ ¼ï¼Œæé«˜æˆ‘ä»¬çš„ä»£ç è´¨é‡ã€‚

ESLint å°†æˆ‘ä»¬çš„ä»£ç è§£ææˆ ASTï¼Œé€šè¿‡æ£€æµ‹ AST æ¥åˆ¤æ–­ä»£ç æ˜¯å¦ç¬¦åˆæˆ‘ä»¬è®¾ç½®çš„è§„åˆ™ï¼Œå¾€å¾€ä¸åŒå…¬å¸å›¢é˜Ÿä¼šè‡ªå®šä¹‰ä¸€å¥—è‡ªå·±çš„ ESLint è§„èŒƒã€‚

æˆ‘ä»¬å…ˆæ¥å®‰è£…ä¸€ä¸‹ `Prettier` å’Œ `ESLint`

```bash
npm install eslint@^7.26.0 --save-dev
npm install prettier@^2.3.0 --save-dev
```

æ¥ç€å®‰è£…ä¸€äº›å¯¹åº”çš„æ’ä»¶ä¿¡æ¯ï¼Œå…·ä½“ä¿¡æ¯å¤§å®¶å¯å»æŸ¥è¯¢è¿™äº›åº“éƒ½åšäº†ä»€ä¹ˆå·¥ä½œ

```bash
npm install eslint-config-alloy@^4.1.0 --save-dev
npm install eslint-config-prettier@^8.3.0 --save-dev
npm install eslint-plugin-prettier@^3.4.0 --save-dev
npm install eslint-plugin-react@^7.23.2 --save-dev
npm install eslint-plugin-react-hooks@^4.2.0 --save-dev
```

å¯èƒ½æœ‰äººä¼šé—®ï¼Œæœ‰ ESLintï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæœ‰ TSLintï¼Œç­”æ¡ˆæ˜¯ï¼šæœ‰ã€‚ä½†æˆ‘å¹¶ä¸æ¨èã€‚

ç”±äºç°åœ¨ ESLint çš„ç”Ÿæ€æ¯”è¾ƒå®Œå–„ï¼Œè€Œ TSLint é¦–å…ˆæ˜¯ä¸èƒ½ä½¿ç”¨ ESLint ç¤¾åŒºçš„ä¸€äº›æˆæœï¼Œå…¶æ¬¡ TSLint åœ¨ç”Ÿæ€ä¸Šä¹Ÿç›¸å¯¹è¾ƒå·®ï¼Œæ‰€ä»¥ TSLint çš„ä½œè€…å·²ç»å®£å¸ƒä¼šé€æ¸æ”¾å¼ƒ TSLint ï¼Œè€Œå»æ”¯æŒ typescript-eslint-parser ï¼ŒåŒæ—¶ [Typescript å›¢é˜Ÿä¹Ÿå®£å¸ƒä¼šå°†è‡ªå·±å¼€å‘çš„ lint å·¥å…·ä» tslint è¿ç§»åˆ° typescript-eslint-parser](https://github.com/microsoft/TypeScript/issues/30553)

```bash
npm install @typescript-eslint/parser@^4.24.0 --save-dev
npm install @typescript-eslint/eslint-plugin@^4.24.0 --save-dev
```

å®‰è£…å¥½ä¹‹åï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `tsconfig.json`ã€`.prettierrc` ã€
`.eslintrc.js`

```json
// tsconfig.json
{
  "compilerOptions": {
    "target": "ES2016" /* ç¼–è¯‘ç»“æœä½¿ç”¨çš„ç‰ˆæœ¬æ ‡å‡†: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019', 'ES2020', or 'ESNEXT'. */,
    "module": "commonjs" /* ç¼–è¯‘ç»“æœä½¿ç”¨çš„æ¨¡å—åŒ–æ ‡å‡†: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', 'es2020', or 'ESNext'. */,
    "lib": [
      "ESNext",
      "DOM"
    ] /* åœ¨å†™tsçš„æ—¶å€™æ”¯æŒçš„ç¯å¢ƒï¼Œé»˜è®¤æ˜¯æµè§ˆå™¨ç¯å¢ƒã€‚å¦‚éœ€è¦æ”¯æŒnodeï¼Œå®‰è£…@type/node */,
    "jsx": "react" /* Specify JSX code generation: 'preserve', 'react-native', or 'react'. */,
    "sourceMap": true,
    "strict": true,
    "declaration": true,
    "removeComments": true /* ç¼–è¯‘ç»“æœæŠŠtsçš„æ³¨é‡Šç§»é™¤æ‰ */,
    "esModuleInterop": true /* es6çš„æ¨¡å—åŒ–å’Œées6çš„æ¨¡å—åŒ–æ ‡å‡†äº’é€š */,
    "allowSyntheticDefaultImports": true,
    "baseUrl": "./",
    "paths": {
      "@src/*": ["./app/renderer/*"] // webpack é…ç½®åˆ«åï¼Œä½†åœ¨TSä¸­ä¼šæŠ¥çº¢æ‰¾ä¸åˆ°ï¼Œæ‰€ä»¥tslintä¹Ÿéœ€è¦é…ç½®
    },
    "moduleResolution": "node"
  },
  "exclude": ["dist", "node_modules"], // è¿™é‡Œéœ€è¦æ’é™¤æ‰ dist ç›®å½•å’Œ node_modules ç›®å½•ï¼Œä¸è¿›è¡Œæ£€æŸ¥
  "include": ["app/**/*.ts", "app/**/*.tsx", "app/**/*.d.ts"]
}
```

```json
// .prettierrc
{
  "eslintIntegration": true,
  "printWidth": 120,
  "tabWidth": 2,
  "useTabs": false,
  "singleQuote": true,
  "endOfLine": "auto"
}
```

```js
// .eslintrc.js
module.exports = {
  extends: [
    'alloy',
    'alloy/react',
    'alloy/typescript',
    'plugin:react-hooks/recommended',
    'plugin:prettier/recommended',
  ],
  globals: {
    // è¿™é‡Œå¡«å…¥ä½ çš„é¡¹ç›®éœ€è¦çš„å…¨å±€å˜é‡
    // è¿™é‡Œå€¼ä¸º false è¡¨ç¤ºè¿™ä¸ªå…¨å±€å˜é‡ä¸å…è®¸è¢«é‡æ–°èµ‹å€¼ï¼Œæ¯”å¦‚ï¼š
    __dirname: false,
  },
  rules: {
    'no-undefined': 'warn',
    'no-debugger': 'off',
    complexity: ['error', { max: 99 }],
    // è¿™é‡Œå¡«å…¥ä½ çš„é¡¹ç›®éœ€è¦çš„ä¸ªæ€§åŒ–é…ç½®ï¼Œæ¯”å¦‚ï¼š
    // @fixable ä¸€ä¸ªç¼©è¿›å¿…é¡»ç”¨ä¸¤ä¸ªç©ºæ ¼æ›¿ä»£
    indent: [
      1,
      2,
      {
        SwitchCase: 1,
        flatTernaryExpressions: true,
      },
    ],
    // @fixable jsx çš„ children ç¼©è¿›å¿…é¡»ä¸ºä¸¤ä¸ªç©ºæ ¼
    'react/jsx-indent': [1, 2],
    // @fixable jsx çš„ props ç¼©è¿›å¿…é¡»ä¸ºä¸¤ä¸ªç©ºæ ¼
    'react/jsx-indent-props': [1, 2],
    'react/no-string-refs': 1, // ä¸è¦ä½¿ç”¨ref
    'no-template-curly-in-string': 1, // åœ¨stringé‡Œé¢ä¸è¦å‡ºç°æ¨¡æ¿ç¬¦å·
    '@typescript-eslint/prefer-optional-chain': 'off',
    '@typescript-eslint/explicit-member-accessibility': 'off',
    '@typescript-eslint/no-duplicate-imports': 'off',
    'react/no-unsafe': 'off',
    '@typescript-eslint/no-invalid-this': 'off',
    'react/jsx-key': 0,
    'no-undef': 0,
  },
};
```

è¿™æ—¶å€™æˆ‘ä»¬å†å»çœ‹å‰è¾¹å†™çš„ä»£ç ï¼Œä¼šå‘ç°ä¸€å †æŠ¥çº¢ï¼Œæˆ‘ä»¬åªéœ€ `Ctrl+S` ä¿å­˜ä¸€ä¸‹å³å¯ã€‚

> âš ï¸ æç¤ºï¼šå¦‚æœå‘ç°æœªç”Ÿæ•ˆï¼Œå¯ä»¥é‡æ–°æ‰“å¼€ä¸€ä¸‹ vscode

### 3. CSS Modules é—®é¢˜

å¤§å®¶éƒ½çŸ¥é“ï¼ŒCSS çš„è§„åˆ™éƒ½æ˜¯å…¨å±€çš„ï¼Œä»»ä½•ä¸€ä¸ªç»„ä»¶çš„æ ·å¼è§„åˆ™ï¼Œéƒ½å¯¹æ•´ä¸ªé¡µé¢æœ‰æ•ˆã€‚ä¸ºäº†è§£å†³æ­¤æƒ…å†µï¼ŒCSS Modules çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ï¼šä½¿ç”¨ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ class çš„åå­—ï¼Œä¸ä¼šä¸å…¶ä»–é€‰æ‹©å™¨é‡åã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¼šçœ‹åˆ°ï¼Œå¾ˆå¤šç±»å‘½éƒ½æ˜¯ `hash å€¼ + ç»„ä»¶å`ï¼Œä¸‹é¢è¯´è¯´å¦‚ä½•åœ¨ Webpack ä¸­é…ç½® CSS Module

åœ¨æ­¤é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨ `less` è¿›è¡Œæ ·å¼ç›¸å…³çš„ç¼–å†™ï¼Œå®‰è£…å®ƒ

```bash
npm install less@3.12.2 --save-dev
```

æˆ‘ä»¬è¿›å…¥ Webpack å®˜ç½‘ Loader é…ç½®ï¼Œçœ‹çœ‹å®ƒæä¾›å¤„ç†æ ·å¼ç±»å‹çš„æ‰“åŒ…æ–¹æ¡ˆï¼Œå…³äºè¿™äº› Loader çš„å…·ä½“ä»‹ç»å¯åœ¨å®˜ç½‘æŸ¥é˜…

```js
npm install less-loader@6.2.0 --save-dev
npm install postcss-loader@3.0.0 --save-dev
npm install css-loader@3.0.0 --save-dev
// ğŸ‘‡ å°†æˆ‘ä»¬çš„æ ·å¼é€šè¿‡styleæ ‡ç­¾æ’å…¥åˆ°é¡µé¢headä¸­
npm install style-loader@2.0.0 --save-dev
```

å‰é¢æˆ‘ä»¬è¯´äº†ï¼ŒLoader å°±æ˜¯æ¨¡å—æ‰“åŒ…æ–¹æ¡ˆï¼Œæˆ‘ä»¬å» `webpack.render.dev.js` ä¸­æ·»åŠ é…ç½®

```js
// webpack.render.dev.js
const devConfig = {
  // ğŸ‘‡ è¿½åŠ è¿™æ®µä»£ç ï¼Œå…³äºLoaderä¸Pluginäº†è§£å¯ä»¥å»çœ‹å½©è›‹ç¯‡
  module: {
    rules: [
      {
        test: /\.css$/,
        use: ['style-loader', 'css-loader', 'postcss-loader'],
      },
      {
        test: /\.less$/,
        exclude: /node_modules/,
        use: [
          'style-loader',
          {
            loader: 'css-loader',
            options: {
              modules: {
                localIdentName: '[name]__[local]__[hash:base64:5]',
              },
            },
          },
          'postcss-loader',
          'less-loader',
        ],
      },
    ],
  }
};
```

è¿™æ—¶å€™æˆ‘ä»¬åœ¨ `<Title />` ç»„ä»¶ä¸‹ç¼–å†™ä¸€ä¸ª `index.less` æ–‡ä»¶ï¼Œçœ‹å…¶æ ·å¼å¦å¦‚æˆ‘ä»¬æ‰€æ„¿ï¼Ÿ

```ts
import React from 'react'; 
import lessStyle from './index.less';

function Title() {
  return (
    <div style={styles} className={lessStyle.title}>
      {text}
    </div>
  )
}

export default Title;
```

```less
.title {
  color: red;
}
```

æœ‰å¯èƒ½ä¼šå‡ºç°ä¸‹é¢é—®é¢˜ï¼Œæˆ‘ä»¬æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹å°±å¯ä»¥äº†

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0d3558b20a5847838c35162a72cf227d~tplv-k3u1fbpfcp-watermark.image)

```
npm install autoprefixer@9.0.0 --save-dev
```

å†æ¬¡è¿è¡Œï¼Œçœ‹çœ‹æ˜¯å¦å¯è¡Œï¼Ÿå‘ç°è¿˜æ˜¯ä¸è¡Œï¼Œæˆ‘ä»¬çœ‹çœ‹æŠ¥ä»€ä¹ˆé”™ï¼Ÿ

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1f8bd7e6d0654c36920f3c1b188aa5a1~tplv-k3u1fbpfcp-watermark.image)

è§£å†³æ­¤é—®é¢˜éœ€è¦æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `postcss.config.js`ï¼Œæ·»åŠ ä¸€ä¸‹é…ç½®

```js
module.exports = {
  plugins: {
    autoprefixer: {
      overrideBrowserslist: ['> 0.5%', 'last 5 versions'],
    },
  },
};
```

å†æ¬¡è¿è¡Œï¼Œçœ‹çœ‹æ•ˆæœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç±»åçš„æ ¼å¼ä¸º`[ç»„ä»¶å]_[å½“å‰ç±»å]_[å“ˆå¸Œå€¼å–5ä½]`ï¼Œä»è€Œå½¢æˆç‹¬ä¸€æ— äºŒçš„ class åå­—ï¼Œä¸ä¼šä¸å…¶ä»–é€‰æ‹©å™¨é‡åã€‚è‡³æ­¤æˆ‘ä»¬å®Œæˆäº†æ ·å¼ç›¸å…³çš„é…ç½®å¤„ç†ã€‚

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/716b21558ec9413fbc016623eb401886~tplv-k3u1fbpfcp-watermark.image)

### 4. styleName

åœ¨ React ä¸­ CSS Modules ä¼šä½¿å¾—æˆ‘ä»¬å†™ä»£ç éƒ½è¦é€šè¿‡ styles çš„å½¢å¼

```ts
import React from 'react';
import lessStyle from './index/less';

function Title() {
  return <div className={lessStyle.box} />;
}

export default Title;
```

ç‰¹åˆ«ç¹çï¼Œæ‰€ä»¥é€šè¿‡æ’ä»¶ [react-css-modules](https://github.com/gajus/react-css-modules) å®ç° styleName çš„å½¢å¼ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½éœ€è¦å†™æˆè¿™æ ·

```ts
import React from 'react';
import CSSModules from 'react-css-modules';
import lessStyle from './index.less';

class Title extends React.Component {
  render() {
    return (
      <div styleName="box">
        <div styleName="cell">test</div>
      </div>
    );
  }
}
export default CSSModules(Title, lessStyle);
```

ä¹Ÿæ˜¯å¾ˆè›‹ç–¼ï¼Œæ‰€ä»¥ä½œè€…åˆå†™äº†ä¸ªæ’ä»¶[babel-plugin-react-css-modules](https://github.com/gajus/babel-plugin-react-css-modules)ï¼Œè¿™ä¸ªæ’ä»¶æ›´åŠ å¥½ç”¨

ä¸ºäº†æ”¹é€ æˆè¿™ç§å½¢å¼ï¼Œæˆ‘ä»¬è¿›è¡Œé…ç½®ä¿®æ”¹ï¼Œæˆ‘ä»¬å…ˆå®‰è£…æ’ä»¶

```js
// ğŸ‘‡ ä¸å®‰è£…ä¼šåœ¨ä½¿ç”¨ styleName æ—¶ TS æŠ¥é”™
npm install @types/react-css-modules@4.6.2 --save-dev
// ğŸ‘‡ è®©æˆ‘ä»¬æ›´å¥½çš„ä½¿ç”¨ CSS Module
npm install babel-plugin-react-css-modules@5.2.6 --save-dev
npm install postcss-less@3.1.4 --save-dev
```

ç„¶ååœ¨ `babel.config.js` æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸‹é…ç½®

```js
module.exports = {
  plugins: [
    ...// css-modules
    [
      'babel-plugin-react-css-modules',
      {
        exclude: 'node_modules',
        webpackHotModuleReloading: true,
        generateScopedName: '[name]__[local]__[hash:base64:5]',
        autoResolveMultipleImports: true,
        filetypes: {
          '.less': { syntax: 'postcss-less' },
        },
      },
    ],
  ],
};
```

æœ€åå†çœ‹çœ‹ç»„ä»¶çš„ä»£ç æ˜¯æ€æ ·çš„

```ts
import React from 'react';
import './index.less';

interface IProps {
  /**
   * @description æ ‡é¢˜
   */
  text: string;
  /**
   * @description æ ·å¼
   */
  styles?: React.CSSProperties;
}

function Title({ text, styles }: IProps) {
  return (
    <div style={styles} styleName="title">
      {text}
    </div>
  );
}

export default Title;
```

### 6. æ–‡ä»¶ç±»å‹æŠ¥é”™

å½“æˆ‘ä»¬åœ¨ä»£ç ä¸­å¼•å…¥ä¸€å¼ ç…§ç‰‡æ—¶ï¼Œæ‰“åŒ…ä¼šå‘ç”Ÿé”™è¯¯

<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b0d4e224f134378a593e264a0a330b4~tplv-k3u1fbpfcp-watermark.image" width=600 />

å®˜æ–¹æä¾›äº†ä¸€ç§ä¸“é—¨å¤„ç†æ­¤ç±»å‹çš„æ–¹æ¡ˆï¼š`file-loader`ï¼Œæˆ‘ä»¬å®‰è£…ä¸€ä¸‹è¿™ä¸ª loader

```
npm install file-loader --save-dev
```

ä¿®æ”¹ä¸€ä¸‹ `webpack.base.js`

```js
module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /\.(jpg|png|jpeg|gif)$/,
        use: [
          {
            loader: 'file-loader',
            options: {
              name: '[name]_[hash].[ext]',
              outputPath: 'images/',
            },
          },
        ],
      },
    ],
  },
  plugins: [new CleanWebpackPlugin()],
};
```



### 5. æ–‡ä»¶éƒ¨åˆ†ç±»å‹ TS æŠ¥çº¢

æˆ‘ä»¬æ­¤åˆ»å¼•å…¥ä¸€å¼ å›¾ç‰‡ï¼ŒTS ä¼šæŠ¥é”™ï¼Œè¯´æ‰¾ä¸åˆ°æ¨¡å—ï¼Œå®é™…ä¸Šæˆ‘ä»¬çš„è·¯å¾„æ˜¯æ­£ç¡®çš„ï¼Œå›¾ç‰‡ä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤º

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5207ba77051f42cfbfaaa720eb349ead~tplv-k3u1fbpfcp-watermark.image)

è¿™æ—¶å€™æˆ‘ä»¬åªéœ€è¦åœ¨ `app/renderer` ç›®å½•ä¸‹ï¼Œæ–°å¢ä¸€ä¸ª `global.d.ts` æ–‡ä»¶å³å¯

```ts
// global.d.ts
declare module '*.jpg' {
  const jpg: string;
  export default jpg;
}
```

> âš ï¸ è¯·æ³¨æ„ï¼šå¦‚æœä½ åœ¨æ ¹ç›®å½•ä¸‹æ–°å¢ global.d.ts æ–‡ä»¶ï¼Œè¯·ç¡®ä¿ä½ çš„ tsconfig.json ä¸­ `include` å­—æ®µæ˜¯èƒ½åŒ¹é…åˆ° global.d.ts æ–‡ä»¶


å…³äº global.d.ts å¯é…ç½®çš„ä¸œè¥¿å¯å¤ªå¤šäº†ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ `window.pdk` è‚¯å®šä¼šè¢« ts æŠ¥çº¢ï¼Œè¯´ window ä¸Šå¹¶æ— æ­¤å±æ€§ï¼Œè¿™æ—¶å€™æˆ‘ä»¬åˆä¸æƒ³æ”¹æˆ `(window as any).pdk`ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ‰©å±• Window çš„ç±»å‹

```ts
// è¿™é‡Œç”¨äºæ‰©å……windowå¯¹è±¡ä¸Šçš„å€¼
declare interface Window {
  pdk: string;
}
```

## æ€»ç»“

æœ¬ç« èŠ‚ä¸»è¦é€šè¿‡å®æ“ï¼Œæ‰‹æŠŠæ‰‹å¸¦å¤§å®¶ä»0åˆ°1å®ç°äº†é¡¹ç›®çš„æ­å»ºï¼Œè¿™æ˜¯æœ€é‡è¦ä¹Ÿæ˜¯æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œä¸€å±‚ä¸€å±‚ã€ä¸€æ­¥ä¸€æ­¥åœ°è®²è§£ï¼Œå¸®åŠ©å°ä¼™ä¼´ä»¬ï¼Œèƒ½å¤Ÿä»å¤´åˆ°å°¾æŠŠå†…å®¹è¿æ¥èµ·æ¥ã€‚ä¹ŸæœŸæœ›å¤§å®¶ä¸€å®šè¦åŠ¨æ‰‹å®æ“ä¸€éï¼Œæ„Ÿå—ä¸€ä¸‹æ­å»ºçš„â€œå¿«ä¹â€ã€‚

**ğŸ§¨  å¦‚æœä½ ä¸æƒ³åŠ¨æ‰‹æ­å»ºï¼Œå¯ç›´æ¥è®¿é—®ï¼š[init-cli åˆ†æ”¯](https://github.com/PDKSophia/visResumeMook/tree/init-cli)ï¼Œä»£ç æ‹‰å–ä¹‹åå®‰è£…ä¸€ä¸‹å³å¯å¼€å‘ã€‚**

## è¡¥å……è¯´æ˜

### 1. å…³äºç¯å¢ƒå˜é‡

> 2021.06.10 è¡¥å……æ›´æ–°ï¼Œæ­¤è¡¥å……è¯´æ˜æ˜¯ç»™ 10 å·å‰å·²é¢„è§ˆè¿‡çš„å°ä¼™ä¼´çœ‹çš„ï½

æ—©ä¸€æ‰¹çš„å°ä¼™ä¼´åº”è¯¥ä¼šè®°å¾—ï¼Œæˆ‘ä»¬åœ¨ webpack.main.dev.js ä¸­é€šè¿‡ webpack.DefinePlugin å®šä¹‰äº†å…¨å±€å˜é‡ process.env.NODE_ENVã€‚å¹¶åœ¨ package.json çš„è„šæœ¬å‘½ä»¤ start:main ä¸­åˆå£°æ˜äº† NODE_ENVï¼Œç›®å‰ä»£ç ä»“åº“å·²å…¨é‡æ›´æ–°ã€‚å°ä¼™ä¼´ä»¬å¯å‰å¾€ [init-cli åˆ†æ”¯](https://github.com/PDKSophia/visResumeMook/tree/init-cli) çœ‹æœ€æ–°ä»£ç ã€‚ä¸‹é¢æ¥è¯´æ˜ä¸€ä¸‹è¿™ä¸¤è€…åŒºåˆ«ã€‚

å¾—å…ˆæ˜ç™½ä¸€ç‚¹å°±æ˜¯ï¼Œä¸ºä»€ä¹ˆè¦é…ç½®è¿™ä¸ªï¼Œåœ¨å‰ç«¯å·¥ç¨‹åŒ–é…ç½®ä¸­ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šæœ‰è®¸å¤šç¯å¢ƒï¼Œå¦‚ç”Ÿäº§ç¯å¢ƒ/å¼€å‘ç¯å¢ƒç­‰ã€‚åœ¨ node ä¸­æœ‰å…¨å±€å˜é‡ process è¡¨ç¤ºå½“å‰ node è¿›ç¨‹ï¼Œprocess.env åŒ…å«ç€å…³äºç³»ç»Ÿç¯å¢ƒçš„ä¿¡æ¯ã€‚ä½†æ˜¯ process.env ä¸­å¹¶ä¸å­˜åœ¨ NODE_ENV è¿™ä¸ªç©æ„ã€‚æ‰€ä»¥æˆ‘ä»¬é€šè¿‡å®šä¹‰å…¨å±€å˜é‡æ¥åŒºåˆ†ç¯å¢ƒçš„ä¸åŒã€‚

åœ¨ package.json çš„ scripts å‘½ä»¤ä¸­ï¼Œé€šè¿‡æ·»åŠ  NODE_ENV=developmentï¼Œè¡¨ç¤º node æœåŠ¡å¯åŠ¨æ—¶ï¼Œå°† NODE_ENV æŒ‚è½½åˆ° process.env ä¸Šã€‚åœ¨ Linux å’Œ Mac ä¸Šç›´æ¥è¿™ä¹ˆå†™æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½† Widnow ä¸Šå°±ä¼šå­˜åœ¨é—®é¢˜ï¼Œè¿™ä¹Ÿå°±æ˜¯å°ä¼™ä¼´ä»¬åé¦ˆ window ä¸Šæ— æ³•è¿è¡Œçš„æ ¹æœ¬åŸå› ã€‚å¦‚æœä½ ä¸€å®šè¦åœ¨è„šæœ¬å‘½ä»¤ä¸­æ·»åŠ ä¸€äº›é…ç½®å‚æ•°ï¼Œé‚£ä¹ˆå»ºè®®é€šè¿‡ç¬¬ä¸‰æ–¹ `cross-env` åº“ï¼ŒæŠ¹å¹³æ‰ä¸åŒå¹³å°ä¹‹é—´çš„å·®å¼‚ã€‚

å†æ¥è¯´è¯´ webpack.DefinePlugin ä¸­å®šä¹‰çš„å…¨å±€å˜é‡ï¼Œå®ƒè¡¨ç¤º webpack åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰æ­¤å˜é‡ï¼Œéƒ½ä¼šè¢«æ›¿æ¢æˆæˆ‘ä»¬å®šä¹‰çš„å€¼ã€‚

æ—¢ç„¶ä¸¤è€…éƒ½èƒ½å®šä¹‰å˜é‡ï¼Œé‚£ä¹ˆé‡‡ç”¨å“ªç§ä¼šæ¯”è¾ƒå¥½å‘¢ï¼Ÿç”±äºæˆ‘ä»¬çš„ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹éƒ½æ˜¯ç»è¿‡ webpack ç¼–è¯‘ï¼Œæˆ‘ä¸ªäººå»ºè®®æ˜¯é€šè¿‡ webpack.DefinePluginã€‚å½“ç„¶ä¸ç”¨è‡ªå·±å†™ç¯å¢ƒå˜é‡çš„å®šä¹‰ã€‚å› ä¸ºåœ¨ webpack é…ç½®ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº† mode é…ç½®é€‰é¡¹ï¼Œé€šè¿‡[å®˜ç½‘](https://webpack.js.org/configuration/mode/#usage)æˆ‘ä»¬å¯ä»¥çœ‹åˆ°:

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/88d3c8f676bb45bd97ce73c2a2dd6533~tplv-k3u1fbpfcp-watermark.image)

```js
const mainConfig = {
  // ...
  mode: 'development',
  // ğŸ‘† ä¸Šé¢å®šä¹‰çš„ mode ç­‰ä»·äºæˆ‘ä»¬åœ¨ DefinePlugin ä¸­å®šä¹‰äº† process.env.NODE_ENV
};
```

ç‚¹å‡»æŸ¥çœ‹ [commit](https://github.com/PDKSophia/visResumeMook/commit/3eea3e6426e5ca1f316f42b327a2ccfa9d6a158a) ä¿¡æ¯ï¼Œå¦‚æœçœ‹å®Œè¿™é‡Œè¿˜æœ‰ç–‘é—®ï¼Œæ¬¢è¿è¿›ç¾¤è®¨è®ºï½

### 2. å…³äº dependencies ä¸ devDependencies

æ”¶åˆ°å°ä¼™ä¼´ä»¬çš„å»ºè®®ï¼Œæ­¤æ¬¡è¿›è¡Œäº†æ›´æ–°ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ææ¸…æ¥šä¸€ä¸‹è¿™ä¸¤è€…çš„åŒºåˆ«ã€‚

- dependencies æ˜¯äº§ç”Ÿç¯å¢ƒä¸‹çš„ä¾èµ–ï¼Œæ¯”å¦‚è¯´ Vueã€React ç­‰
- devDependencies æ˜¯å¼€å‘ç¯å¢ƒä¸‹çš„ä¾èµ–ï¼Œæ¯”å¦‚ Webpackã€ESLintã€Babel ç­‰

å¯èƒ½è¿™ä¹ˆè®²å°ä¼™ä¼´ä»¬è¿˜æ˜¯ä¸æ€ä¹ˆèƒ½åŒºåˆ†ï¼Œè¿™ä¹ˆè¯´å§ã€‚æˆ‘å†™äº†ä¸€ä¸ª React UI ç»„ä»¶åŒ…ï¼Œå…¶ä¸­ä¾èµ–äº† AntDesignï¼Œé‚£æˆ‘éœ€è¦å°† AntDesign å’Œ React æ”¾åœ¨ dependencies ä¸­ã€‚

å†æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­ç”¨åˆ°äº† Reduxï¼Œä½†æ˜¯ Redux çš„ devDependencies é‡Œé¢æœ‰ jestã€rxjs ç­‰ï¼Œåœ¨æˆ‘ä»¬å®‰è£… Redux æ—¶ï¼Œæˆ‘ä»¬æ˜¯ä¸ä¼šæŠŠ jestã€rxjs æ‹‰ä¸‹æ¥çš„ï¼ˆä¹Ÿå°±æ˜¯ node_modules é‡Œæ˜¯ä¸ä¼šæœ‰ jestã€rxjsï¼‰

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1fbcb48a9e8a46bcb5eb11c7bf7bb471~tplv-k3u1fbpfcp-watermark.image)

ä¸€èˆ¬æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šåœ¨é¡¹ç›®ä¸­å®‰è£… webpackã€webpack-dev-serverã€babelã€eslint çš„ç­‰å·¥å…·åº“ï¼Œæˆ–è€…æ˜¯ç”¨äºå•å…ƒæµ‹è¯•çš„ jest åº“ï¼Œè¿™äº›ä¾èµ–åº“éƒ½åªæ˜¯åœ¨æˆ‘ä»¬é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨ï¼Œåº”è¯¥å†™åœ¨ devDependencies é‡Œã€‚å¦‚æœè¯´æˆ‘ä»¬ä¾èµ–ä¹±å†™ï¼Œä¾‹å¦‚å¼€å‘ä¾èµ–æ”¾åœ¨ç”Ÿäº§ï¼Œç”Ÿäº§ä¾èµ–æ”¾åœ¨å¼€å‘ï¼Œè¿™ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ

ä»¥ [rc-redux-model](https://github.com/SugarTurboS/rc-redux-model/blob/master/package.json)ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒçš„ä¾èµ–éå¸¸çš„å°‘ã€‚è¿™æ˜¯ä¸€ä¸ª npm åŒ…ã€‚å½“æˆ‘ä»¬æ‰§è¡Œ `npm install rc-redux-model` æ—¶ï¼Œæ­¤æ—¶ä¼šå°† dependencies çš„ä¾èµ–éƒ½å®‰è£…ï¼Œä¸ä¼šå®‰è£… devDependencies é‡Œçš„ä¾èµ–åº“ã€‚

ä½†å¦‚æœæ˜¯é€šè¿‡å…‹éš†ä»“åº“é¡¹ç›®ä»£ç ï¼Œå¦‚ `git clone https://github.com/SugarTurboS/rc-redux-model`ï¼Œç„¶åå† `npm instal`ï¼Œè¿™æ—¶å€™ä¼šå°† dependencies å’Œ devDependencies é‡Œçš„ä¾èµ–åº“éƒ½å®‰è£…ã€‚

å°ä¼™ä¼´ä»¬å¯ä»¥å†ç§ä¸‹ç ”ç©¶ç ”ç©¶ï¼Œç‚¹å‡»æŸ¥çœ‹ [commit](https://github.com/PDKSophia/visResumeMook/commit/07e6b76b06f2ade272d58f6c47dbb134139ec28a) ä¿¡æ¯ï¼Œå¦‚æœçœ‹å®Œè¿™é‡Œè¿˜æœ‰ç–‘é—®ï¼Œæ¬¢è¿è¿›ç¾¤è®¨è®ºï½

### 3. æ‰“åŒ…æˆæ¡Œé¢åº”ç”¨

è®¸å¤šå°ä¼™ä¼´ä»¬é€šè¿‡æœ¬ç« èŠ‚å°† Electron + React æ­å»ºèµ·æ¥åï¼Œè¿˜æ²¡å¼€å§‹å†™å‡ è¡Œä»£ç ï¼Œå°±è¿«ä¸åŠå¾…æƒ³æ‰“åŒ…æˆæ¡Œé¢åº”ç”¨ï¼Œæ¯•ç«Ÿæå‡ºè‡ªå·±ç¬¬ä¸€ä¸ªæ¡Œé¢åº”ç”¨ï¼Œæ˜¯ä¸€ä»¶å¾ˆéª„å‚²è‡ªè±ªçš„äº‹æƒ…ï¼ï¼ï¼ä½†æ˜¯åˆä¸æƒ³ç­‰æ•´ä¸ªå°å†Œéƒ½å®Œç»“ï¼Œæ‰èƒ½ä¸Šæ‰‹æ‰“åŒ…æ„å»ºï¼Œä¸ºæ­¤ï¼Œé˜¿å®½æ–°å¢ä¸€ç« èŠ‚ [ğŸ† æ”¯çº¿ç¯‡-æ‰“åŒ…ç”Ÿæˆç¬¬ä¸€ä¸ªæ¡Œé¢åº”ç”¨ï¼ˆéª„å‚²è‡ªè±ªï¼‰](https://juejin.cn/book/6950646725295996940/section/6972047382494052392)ã€‚

æ­¤ç« èŠ‚ä¸ºæ”¯çº¿ä»»åŠ¡ï¼Œä¸ä¸»æµç¨‹ï¼ˆä¸»çº¿ä»»åŠ¡ï¼‰æ— ä»»ä½•å…³ç³»ã€‚å¯æ”¾å¿ƒä½¿ç”¨ï¼Œå¦‚æœåœ¨æ‰“åŒ…æœŸé—´é‡åˆ°é—®é¢˜ï¼Œå¯åŠ æˆ‘å¾®ä¿¡æˆ–è¿›ç¾¤è®¨è®ºï½

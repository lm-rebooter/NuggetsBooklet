## ä¸‰åˆ†å¤©ä¸‹

å¤æœ‰ä¸œæ±‰æœ«å¹´åˆ†ä¸‰å›½ï¼Œç°å­˜ Reactã€Vueã€Angular ä¸‰åˆ†å¤©ä¸‹ã€‚å…¶å®åœ¨å‰ç«¯åˆ€è€•ç«ç§æ—¶æœŸï¼Œä¸‰å¤§æ¡†æ¶å‰²æ®æ—¶ä»£æ ¹æœ¬ä¸å­˜åœ¨ï¼Œä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤šè„šæ‰‹æ¶ã€‚

éšç€æ—¶ä»£çš„è¿ç§»ï¼Œå‰ç«¯æŠ€æœ¯çš„å‘å±•ï¼Œä¸‰å¤§æ¡†æ¶å‡ºç°å¹¶é€æ­¥ç“œåˆ†å¸‚åœºï¼Œæœ€å…ˆå‡ºç°çš„æ˜¯ Angularï¼Œç´§éšå…¶åçš„æ˜¯ Reactï¼Œåœ¨ 2014 å¹´ï¼Œç”±å°¤å¤§å¤§å¼€å‘çš„ Vue æ¨ªç©ºå‡ºä¸–ï¼Œæˆä¸ºä¸€åŒ¹é»‘é©¬ã€‚

æˆ‘ä¸ªäººæ˜¯æ¯”è¾ƒå–œæ¬¢ React çš„ï¼Œå®ƒçš„æ ¸å¿ƒè¯­æ³•åœ¨äº JSXï¼Œå¥ˆä½•æµè§ˆå™¨å¹¶ä¸è®¤è¯† JSX æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼ˆè™½ç„¶ä½ è·Ÿ JS é•¿å¾—å¾ˆåƒï¼Œä½†æˆ‘æµè§ˆå™¨æ…§çœ¼è¯†ç ï¼Œä¸€çœ¼çœ‹å‡ºä½ ä¸æ˜¯æˆ‘è®¤å®šçš„äººï¼‰ä¸ºæ­¤ï¼ŒReact éœ€è¦å¼•å…¥ç¼–è¯‘ï¼Œå°†å…¶ç¼–è¯‘ä¸ºæµè§ˆå™¨è®¤è¯†çš„ JS è¯­æ³•ã€‚

é‚£ä¹ˆé€šè¿‡ä»€ä¹ˆè¿›è¡Œç¼–è¯‘ï¼Ÿç›®å‰ä¸šç•Œè¾ƒä¸ºæµè¡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯ `Babel`ï¼Œå®ƒæ˜¯ä¸€æ¬¾ JS ç¼–è¯‘å™¨ï¼ŒæŠŠé«˜ç‰ˆæœ¬è¯­æ³•ç¼–è¯‘æˆä½ç‰ˆæœ¬è¯­æ³•ï¼Œæ¢è¨€ä¹‹ï¼ŒBabel èƒ½å°†æ–‡ä»¶æŒ‰ç…§è‡ªå®šä¹‰è§„åˆ™è½¬æ¢æˆæµè§ˆå™¨èƒ½è¯†åˆ«çš„ js è¯­æ³•ã€‚

éœ€è¦åŒºåˆ† `Babel ç¼–è¯‘å™¨` å’Œ `Webpackæ‰“åŒ…ç¼–è¯‘`ï¼Œè¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ã€‚Webpack æ˜¯æ‰“åŒ…å·¥å…·ï¼Œå®šä¹‰å…¥å£æ–‡ä»¶ï¼Œå°†æ‰€æœ‰æ¨¡å—å¼•å…¥æ•´ç†ï¼Œé€šè¿‡ Loader å’Œ Plugin å¤„ç†åï¼Œæ‰“åŒ…è¾“å‡ºã€‚ä¸€ä¸ªç”¨äºç¼–è¯‘ï¼Œä¸€ä¸ªç”¨äºæ‰“åŒ…è¾“å‡ºï¼Œä¸¤è€…å„å¸å…¶èŒï¼Œç›´åˆ°æœ‰ä¸€å¤©ï¼Œæœ‰äººå°±æƒ³å°†å®ƒä»¬ç»“åˆåœ¨ä¸€å—ï¼Œäºæ˜¯ `babel-loader` å‡ºç°äº†ï¼Œå®ƒå…è®¸ Webpack é€šè¿‡ babel-loader ä½¿ç”¨ Babelã€‚

## æŠ€æœ¯é€‰å‹

å‰è¾¹ä»‹ç»ä¸‰å¤§æ¡†æ¶å‡ºç°é¡ºåºä»¥åŠä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ Babelã€Webpackï¼Œæ¥ä¸‹æ¥è®²è§£æ­¤å°å†Œçš„æŠ€æœ¯é€‰å‹ï½

**å°å†Œæ‰€é…å¥—çš„é¡¹ç›®æ˜¯é€šè¿‡ Electron + React Hooks ï¼Œæ­é…ç›®å‰ç«çƒ­çš„ TypeScriptï¼Œæ‰“é€ ä¸€æ¬¾è½»å·§å®ç”¨çš„ç®€å†å¹³å°æ¡Œé¢åº”ç”¨**ã€‚

æˆ‘ä»¬é€‰ç”¨ç›®å‰ç›¸å¯¹çƒ­é—¨çš„æŠ€æœ¯æ¡†æ¶ `React` æ„å»ºç”¨æˆ·ç•Œé¢ï¼Œä¸»è¦åŸå› ä¸ºï¼šç¬¬ä¸€ï¼Œç¬”è€…æ²¡æ¥è§¦è¿‡ Angularï¼Œç¬¬äºŒï¼Œç¬”è€…è¿‘ä¸¤å¹´åŠæ²¡å†™ Vue ï¼Œä»æ—¶é—´æˆæœ¬ä¸Šè€ƒè™‘ï¼Œç¬”è€…è®¤ä¸ºé‡‡ç”¨ React å¼€å‘ä¼šæ›´å¿«ã€‚

å…¶æ¬¡ï¼Œè¿˜éœ€è¦ `TypeScript`ï¼Œé€šè¿‡ TS å¯ä»¥è®©æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç é˜¶æ®µï¼Œé¿å…è®¸å¤šä½çº§æŠ¥é”™ï¼Œæ¯”å¦‚ï¼š

- Uncaught TypeError: Cannot read property
- Uncaught RangeError: Maximum call stack
- TypeError: undefined is not an object
- ......

å½“ç„¶è¿˜æœ‰å¦ä¸€ä¸ªåŸå› æ˜¯ï¼šåœ¨æ±‚èŒè¿‡ç¨‹ä¸­ï¼Œå®ƒæ˜¯ä½ çš„äº®ç‚¹æˆ–è€…åŠ åˆ†é¡¹ï¼Œæœ‰äº›å…¬å¸ç”šè‡³å·²å°†å…¶ä½œä¸ºå¿…å¤‡æŠ€èƒ½ã€‚æ‰€ä»¥æŒæ¡ TS å¯¹ä½ æ¥è®²æ˜¯åˆ©å¤§äºå¼Šã€‚

è¦æ•°ç›®å‰è¾ƒä¸ºçƒ­é—¨çš„æ¡Œé¢åº”ç”¨æ¡†æ¶ï¼Œé Electron è«å±ï¼Œå®ƒè‡ªå¹ï¼š**â€œå¦‚æœä½ å¯ä»¥å»ºä¸€ä¸ªç½‘ç«™ï¼Œä½ å°±å¯ä»¥å»ºä¸€ä¸ªæ¡Œé¢åº”ç”¨ç¨‹åº â€**ã€‚å®ƒæ”¯æŒæˆ‘ä»¬ä½¿ç”¨çœ‹å®¶æœ¬é¢†æ¥æ„å»ºåº”ç”¨ã€‚**å®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†**ï¼Œæˆ‘ä»¬é€šè¿‡ä¸Šæ‰‹å®è·µï¼Œå¼€å‘ä¸€æ¬¾ç®€æ´è½»å·§çš„æ¡Œé¢åº”ç”¨ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬çš„ä¸»è¦æ¡†æ¶ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤º

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/354dda56771d480490654ec971b11645~tplv-k3u1fbpfcp-watermark.image)

> å¦‚æœä½ å¯¹ä¸Šå›¾å…³äº Electron çš„çŸ¥è¯†ç‚¹å­˜åœ¨å›°æƒ‘ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œé˜¿å®½ä¼šåœ¨ç¬¬äºŒç« èŠ‚ä¸­ä¸ºä½ è®²è§£ã€‚

## React ç›¸å…³æŠ€æœ¯æ ˆ

å¿…å¤‡æŠ€æœ¯æ ˆï¼šReact å…¨å®¶æ¡¶å¥—é¤ï¼Œç»æµå®æƒ ï¼

å­˜å‚¨æ–¹é¢ï¼Œæˆ‘ä»¬æœ‰è¯¸å¤šé€‰æ‹©ï¼Œä¾‹å¦‚ `localStorage`ã€`sessionStorage`ã€`indexDB`ï¼Œæˆ–é€‰æ‹© `Redux`ï¼Œå¾—ç›Šäº Electron å†…ç½®äº† Node æ¨¡å—ï¼Œè‡ªç„¶è€Œç„¶åœ°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡è¯»å†™æ–‡ä»¶çš„æ–¹å¼è¿›è¡Œå­˜å‚¨ã€‚

æˆ‘ä»¬æ¥çœ‹çœ‹ç®€å†å¹³å°çš„æ•°æ®ç‰¹ç‚¹ï¼šå­—æ®µå±æ€§å¤šã€æ“ä½œé¢‘ç¹ã€æ•°æ®å®æ—¶å“åº”

å‡è®¾é‡‡ç”¨ localStorageã€sessionStorageã€æœ¬åœ°æ–‡ä»¶ç­‰æ–¹å¼æ¥å­˜å‚¨ç”¨æˆ·ç®€å†ä¿¡æ¯ï¼Œé‚£éœ€è¦è§£å†³çš„ä¸€ä¸ªé‡è¦é—®é¢˜æ˜¯ï¼š**æ•°æ®å¦‚ä½•è¿›è¡Œå®æ—¶å“åº” ?**

ä¸šç•Œå†…è¾ƒä¸ºæµè¡Œçš„æ–¹æ¡ˆæ˜¯ï¼šé‡‡ç”¨ Reduxï¼Œå¯èƒ½ä¼šæœ‰å¾ˆå¤šå°ä¼™ä¼´ä¼šé—®ï¼Œè¿˜æœ‰è®¸å¤šå¯é€‰æ–¹æ¡ˆï¼Œå¦‚: Recoilã€Dvaã€Mobx ç­‰ï¼Œä¸ºä»€ä¹ˆé‡‡ç”¨ Redux ï¼Ÿä»æˆæœ¬ã€ç”Ÿæ€ã€çƒ­åº¦ç­‰ç»¼åˆè€ƒè™‘ï¼ŒRedux æ›´ç”šä¸€ç­¹ï¼Œå¹¶ä¸” Redux æˆåå¤šå¹´ï¼Œç”Ÿæ€åœˆå®Œå–„ï¼Œä¸šå†…å£ç¢‘ä¸é”™ï¼Œæ‰€ä»¥æœ€åé‡‡ç”¨äº† Redux çŠ¶æ€ç®¡ç†å®¹å™¨ã€‚

ä¸ºäº†ç®€åŒ– Redux çš„ç¹çæ“ä½œï¼Œç¬”è€…å¼•å…¥äº† [ğŸŒˆ rc-redux-model](https://github.com/SugarTurboS/rc-redux-model) è¿›è¡Œæé«˜æ•ˆç‡ã€‚

ä¸ºæ­¤ï¼Œæˆ‘ä»¬ React æœ€åçš„æŠ€æœ¯æ ˆä¸ºï¼š

- react å…¨å®¶æ¡¶å¥—é¤
  - react: ç‰ˆæœ¬åœ¨ `^17.0.1` ï¼Œç”¨æ–°ä¸ç”¨æ—§å˜›
  - react-router
  - react-router-dom
- redux: çŠ¶æ€ç®¡ç†å®¹å™¨
- rc-redux-model: è®© redux ä½¿ç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿
- redux-logger: æ§åˆ¶å°çœ‹åˆ°æœ€æ–° redux çš„æ•°æ®

## é…ç½®ç›¸å…³æŠ€æœ¯æ ˆ

**Babel**

å½“å‰ä¸»æµçš„ JS ç¼–è¯‘å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä»å®˜ç½‘çœ‹åˆ° [Babel å’Œ React JSX](https://babeljs.io/docs/en/#jsx-and-react) çš„å…³ç³»ã€‚æ‰€ä»¥é€šè¿‡ Babel å°†æˆ‘ä»¬çš„ React JSX è½¬æˆæµè§ˆå™¨æ‰€èƒ½è¯†åˆ«çš„ JS è¯­æ³•æ˜¯æœ‰å¿…è¦çš„ã€‚

**Webpack**

å¥½è¯„ç‡è¾ƒé«˜çš„æ‰“åŒ…å·¥å…·ï¼Œå¦‚æœè¯´ä½ çš„åº”ç”¨ç¨‹åºéå¸¸å°ï¼Œæ²¡æœ‰ä»€ä¹ˆé™æ€èµ„æºï¼Œåªéœ€è¦ä¸€ä¸ª JS æ–‡ä»¶å°±å¯ä»¥æ»¡è¶³éœ€æ±‚ï¼Œè¿™æ—¶ä½¿ç”¨ Webpack å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬çš„ç®€å†å¹³å°å¹¶ä¸ç¬¦åˆè¿™ç§åœºæ™¯ã€‚

> å¦‚æœä½ å¯¹ Webpack è¿˜ä¸å¤ªäº†è§£ï¼Œå»ºè®®é˜…è¯»[å½©è›‹ç¯‡-WebpackåŸºç¡€ä»‹ç»ä¸ä¸¤å¤§åˆ©å™¨](https://juejin.cn/book/6950646725295996940/section/6962895331730620423)

æˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼š

- webpack å°†æˆ‘ä»¬æ¨¡å—æ‰“åŒ…å¥½ä¹‹åï¼Œæˆ‘ä»¬æ‰‹åŠ¨å†™ä¸€ä¸ª htmlï¼ŒåŠ è½½æ‰“åŒ…å¥½çš„èµ„æºï¼Œè¿™æ²¡é—®é¢˜ï¼Œä½†èƒ½è‡ªåŠ¨åŒ–çš„äº‹æƒ…ï¼Œä¸é¦™å—ï¼Ÿä¸ç¦æ€è€ƒï¼Œèƒ½å¦é€šè¿‡ webpack æ¥ç”Ÿæˆ html é¡µé¢ï¼Ÿ
- build æ‰“åŒ…åçš„ index.html ç›´æ¥æ‰“å¼€å³å¯ï¼Œä½†éšå³å¸¦æ¥çš„é—®é¢˜æ˜¯: æ²¡æœ‰çƒ­æ›´æ–°ï¼Œæˆ‘æ”¹ä¸€ä¸ªå­—æ¯ã€ä¸€å¥æ–‡æ¡ˆï¼Œéƒ½éœ€è¦ build ä¸€æ¬¡æ‰èƒ½çœ‹åˆ°ç»“æœï¼Œè¿™ç§å¼€å§‹æ–¹å¼æœ‰äº›åŸå§‹ï¼Œæ€ä¹ˆåŠï¼Ÿ
- ç¯å¢ƒåŒºåˆ†ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦é’ˆå¯¹ä¸åŒç¯å¢ƒè¿›è¡Œä¸åŒæ“ä½œï¼Œå½“é…ç½®æ–‡ä»¶å¤§äº†ä¹‹åï¼Œé‡Œè¾¹å……æ–¥ç€å¤§é‡çš„ä¸‰å…ƒè¿ç®—ç¬¦ç”¨æˆ·ç¯å¢ƒåˆ¤æ–­ï¼Œå±å®è›‹ç–¼ï¼Œæ€ä¹ˆåŠï¼Ÿ

ä¸Šè¿°é—®é¢˜ä¸šç•Œå†…è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯ [html-webpack-plugin](https://webpack.js.org/plugins/html-webpack-plugin/#root)ã€[webpack-dev-server](https://webpack.js.org/configuration/dev-server/) å’Œ [webpack-merge](https://webpack.js.org/guides/production/#setup)ï¼ŒåŒå­¦ä»¬å¯ä»¥ç§ä¸‹äº†è§£å®ƒä»¬çš„å·¥ä½œåŸç†ã€‚

**TypeScript**

å°ä¼™ä¼´ä»¬æ˜¯å¦æœ‰è¿‡è¿™ç§ä½“ä¼šï¼Œå¥‹ç¬”ç–¾ä¹¦çš„å†™ä¸‹äº†ä¸€æ®µä»£ç ï¼ŒCtrl+S ä¿å­˜ï¼ŒHot çƒ­æ›´æ–°ï¼Œç„¶åé¡µé¢ç™½å±ã€‚

å›å¤´ä¸€çœ‹ï¼ŒåŸæ¥ `[...Array.from()]` å†™æˆäº† `[...Array.form()]`ï¼Œ
è¯¸å¦‚æ­¤ç±»é—®é¢˜è¿˜æœ‰è®¸å¤šï¼Œ[Rollbar å¹³å°ç»Ÿè®¡äº†å‰ç«¯é¡¹ç›®ä¸­ Top10 çš„é”™è¯¯ç±»å‹](https://rollbar.com/blog/top-10-javascript-errors/)ï¼Œæ’åœ¨æœ€å‰é¢çš„å°±æ˜¯ï¼š

```
Uncaught TypeError: Cannot read property xxx of undefined
```

ä¸ºäº†åœ¨ç¼–å†™ä»£ç é˜¶æ®µï¼Œå°±èƒ½è§„é¿æ­¤ç±»ä½çº§ Bug é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº† TypeScriptã€‚åŒæ—¶é‡‡ç”¨ eslint + prettier è¿›è¡Œä»£ç é£æ ¼æ£€æŸ¥å’Œä»£ç è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œæ¯•ç«Ÿé˜¿å®½æœ‰ç‚¹ä»£ç æ´ç™–ã€‚

ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç›¸å…³é…ç½®æœ€åçš„æŠ€æœ¯æ ˆä¸ºï¼š

- Babel
- Webpack
- Eslint
- Prettier
- TypeScript
- ......

## éƒ¨åˆ†æ•ˆæœå›¾

> å…³äºæœ€åä¸€ä¸ªç« èŠ‚-[æœŸæœ›ç¯‡-å¯è§†åŒ–è‡ªå®šä¹‰ç‹¬ç‰¹çš„ç®€å†æ¨¡ç‰ˆ](https://juejin.cn/book/6950646725295996940/section/6953057711445671943)çš„æˆªå›¾å°†åœ¨ä¹‹åè¿›è¡Œè¡¥å…¨ï¼Œå¯ä»¥æœŸå¾…ä¸€ä¸‹ï½

1. é¦–é¡µ

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/922146a39661431aa8a5f9f053e8d747~tplv-k3u1fbpfcp-watermark.image)

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b27b764c0b274def99ce8d6f728955e0~tplv-k3u1fbpfcp-watermark.image)

2. æ¨¡ç‰ˆåˆ—è¡¨é¡µ

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3b313159241145d2ad15dade1063ead1~tplv-k3u1fbpfcp-watermark.image)

3. åˆ¶ä½œç®€å†é¡µ

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3576e5eaf45b42c38429af364c51644d~tplv-k3u1fbpfcp-watermark.image)

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0b3d5b58d9954914962fdd44b37be1b0~tplv-k3u1fbpfcp-watermark.image)

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c70eab719d2c4d6981717e23d6780be3~tplv-k3u1fbpfcp-watermark.image)

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9748987bac0b4f97913dd2b274cf87f1~tplv-k3u1fbpfcp-watermark.image)

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c92abf2246e64a13a9c0b9b7beb262f7~tplv-k3u1fbpfcp-watermark.image)

4. å¯¼å‡ºç®€å†ä¿¡æ¯

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/02490b74bb564a27902d6cee051c7fdb~tplv-k3u1fbpfcp-watermark.image)

5. å¯¼å‡º `åå­—+å­¦æ ¡+èŒä½` PDF

<img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7d7fdab52954dbfa6995b95b95deef3~tplv-k3u1fbpfcp-watermark.image" width=300 />

> ä¸Šè¿°æ˜¯éƒ¨åˆ†æˆªå›¾ï¼Œå…¶ä¸­çš„å¸ƒå±€ã€æ ·å¼ã€äº¤äº’å‡çº¯æ‰‹å·¥åˆ¶ä½œï¼Œæœªé‡‡ç”¨ä»»ä½• UI åº“ï¼Œå¯¼å‡ºçš„ç®€å†å¹¶ä¸æ¨¡ç³Šï¼Œå¯æ”¾å¿ƒä½¿ç”¨

## æ€»ç»“

ä»¥å¼€å‘è€…çš„èº«ä»½ï¼Œåœ¨åŠ¨æ‰‹å‰å¤§è‡´ç½—åˆ—æ‰€éœ€çš„æŠ€æœ¯æ ˆï¼Œä»¥æé—®çš„æ–¹å¼å»è¿°è¯´æŠ€æœ¯çš„é€‰å‹ï¼Œæ¥ä¸‹æ¥å°†ä¼šåœ¨åŠ¨æ‰‹å‰ï¼Œè®²è§£å…¶ä¸­çš„ä¸€äº›æŠ€æœ¯çŸ¥è¯†ç‚¹ã€‚æœ›ä¸å¤§å®¶ä¸€èµ·è¿›æ­¥

å¦‚æœå¯¹æœ¬ç« èŠ‚å­˜åœ¨ç–‘é—®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ã€‚

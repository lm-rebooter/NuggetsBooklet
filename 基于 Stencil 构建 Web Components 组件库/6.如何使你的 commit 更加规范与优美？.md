é¡¹ç›®çš„ Changelog æ–‡ä»¶ä½œä¸ºè®°å½•ç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚å’Œå˜æ›´çš„ä¸»è¦â€œå…¬ç¤ºæ¿â€ï¼Œä¸»è¦ç”¨äºä¼ è¾¾ä¸€äº›å…³é”®çš„å˜æ›´å’ŒæŒ‡å—ï¼Œæ˜¯ç›´æ¥ä¸ä½¿ç”¨è€…å¯¹è¯çš„ä¸€ç§å½¢å¼ï¼Œæ‰€ä»¥ changelog æ–‡ä»¶çš„æ•´æ´ã€ç›´è§‚ä¸€ç›´æ˜¯è¡¡é‡ä¸€ä¸ªé¡¹ç›®è´¨é‡çš„é‡è¦æŒ‡æ ‡ã€‚

è€Œä¸”åœ¨æˆ‘ä»¬ç¿»é˜…ä¸€äº›ç»„ä»¶åº“æˆ–è€…å¼€æºæ¡†æ¶çš„ changelog å˜åŠ¨é¡µçš„æ—¶å€™ï¼Œç»å¸¸çœ‹åˆ°ä¸€äº›é¡¹ç›®çš„æ•´é½ã€ç›´è§‚ã€äº•äº•æœ‰æ¡å¦‚ä¸‹é¢ç¤ºä¾‹ã€‚è¿™æ ·çš„ log æ—¥å¿—å¿…ç„¶ä¸æ˜¯æ‰‹åŠ¨æ’ç‰ˆå‡ºæ¥çš„ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯æ ¹æ® commit çš„æè¿°è‡ªåŠ¨ç”Ÿæˆçš„ã€‚

é‚£ä¹ˆå®ƒä»¬æ˜¯å¦‚ä½•é…ç½®ï¼Œæˆ–è€…ä½¿ç”¨äº†ä»€ä¹ˆå·¥å…·åŒ…å‘¢ï¼Ÿæƒ³å¿…å¤§å®¶éƒ½æ¯”è¾ƒå¥½å¥‡ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ä¸€æ­¥ä¸€æ­¥æ­å¼€å®ƒç¥ç§˜çš„é¢çº±ï¼Œå¹¶ä¸€æ­¥æ­¥çš„é…ç½®æˆ‘ä»¬çš„ç»„ä»¶åº“çš„ commit è§„èŒƒï¼Œä½¿æˆ‘ä»¬çš„ commit å’Œ changelog æ–‡ä»¶ä¹Ÿèƒ½å¦‚æ­¤ä¼˜é›…ã€‚

*ç¤ºä¾‹ä¸€ï¼šsemi çš„ changelog æ–‡ä»¶*

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f03560439674ada8aa1aa6fd8f291bd~tplv-k3u1fbpfcp-zoom-1.image)

*ç¤ºä¾‹äºŒï¼šantd çš„ github changelog*

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/977071d886c942379a0629ea7a8a7419~tplv-k3u1fbpfcp-zoom-1.image)

## Conventional Commits è§„èŒƒ

è¦ä¿æŒ commit ä¿¡æ¯çš„å¯è¯»æ€§ï¼Œä¸€ä¸ªåˆç†çš„ commit æ ¼å¼è§„èŒƒæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè€Œ Conventional Commits å°±æ˜¯ä¸€ç§åŸºäºæäº¤æ¶ˆæ¯çš„è½»é‡çº§çº¦å®šã€‚å®˜æ–¹æ˜¯è¿™æ ·æè¿°å®ƒçš„ï¼š

> å®ƒæä¾›äº†ä¸€ç»„ç”¨äºåˆ›å»ºæ¸…æ™°çš„æäº¤å†å²çš„ç®€å•è§„åˆ™ï¼› è¿™ä½¿å¾—ç¼–å†™åŸºäºè§„èŒƒçš„è‡ªåŠ¨åŒ–å·¥å…·å˜å¾—æ›´å®¹æ˜“ã€‚ è¿™ä¸ªçº¦å®šä¸SemVerç›¸å»åˆï¼Œ åœ¨æäº¤ä¿¡æ¯ä¸­æè¿°æ–°ç‰¹æ€§ã€bug ä¿®å¤å’Œç ´åæ€§å˜æ›´ã€‚              --- Conventional Commits å®˜ç½‘

ç”±æ­¤å¯ä»¥çœ‹å‡º Conventional Commits æ˜¯ä¸€ä¸ªéå¸¸å‹å¥½ä¸”æ¸…æ™°çš„è§„èŒƒï¼Œé‚£éµå¾ªå®ƒçš„å¥½å¤„æœ‰å“ªäº›ï¼Ÿ
æˆ‘ä»¬æ¥è¿›è¡Œä¸€ä¸ªæ€»ç»“ï¼š

-   å¯æ ¼å¼åŒ–ä¿¡æ¯ï¼Œè‡ªåŠ¨äº§ç”Ÿ changelogï¼›

<!---->

-   æ ¡éªŒæ‹¦æˆªä¸ç¬¦åˆè§„åˆ™çš„ commit æè¿°ï¼›

<!---->

-   æ ¹æ®ç±»å‹å†³å®šå½“å‰ç‰ˆæœ¬å˜æ›´çš„æ€§è´¨ï¼›

<!---->

-   ç»Ÿä¸€æäº¤ä¿¡æ¯ï¼Œæœ‰åˆ©äºä»£ç å®¡æŸ¥è€…çš„é˜…è¯»ã€‚

é‚£ä¹ˆ Conventional Commits è§„åˆ™åˆ°åº•æ˜¯å¦‚ä½•çš„å‘¢ï¼Œæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚é€šè¿‡å®˜ç½‘çš„æ–‡æ¡£å¯ä»¥å‘ç°ï¼Œå®ƒæäº¤è¯´æ˜çš„ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š

```
<ç±»å‹>[å¯é€‰çš„ä½œç”¨åŸŸ]: <æè¿°>
[å¯é€‰çš„æ­£æ–‡]
[å¯é€‰çš„è„šæ³¨]

ä¸¾ä¾‹ï¼š
fix(docs): ä¿®å¤æ–‡æ¡£ä¸­å­—ç¬¦é”™è¯¯
feat(components): tooltip ç»„ä»¶åˆå§‹åŒ–
```

å¯ä»¥çœ‹åˆ°ï¼Œç»“æ„é‡Œé¢åŒ…å«ç±»å‹ã€ä½œç”¨åŸŸã€æè¿°ã€æ­£æ–‡ã€è„šæ³¨ã€‚

-   ç±»å‹ï¼šç”¨æ¥æ ‡ç¤ºå½“å‰æäº¤æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„ç±»å‹ï¼Œæ¯”å¦‚æœ€å¸¸è§çš„æœ‰ `fix` ã€`feat` ç­‰ï¼Œç”¨æ¥æ ‡ç¤ºå½“å‰çš„æäº¤æ˜¯ä¸€ä¸ªä¿®å¤ç±»çš„æ“ä½œï¼Œæˆ–è€…ä¸€ä¸ªæ–°åŠŸèƒ½çš„å¢åŠ ã€‚å¯æšä¸¾çš„ç±»å‹è¿˜æœ‰ï¼š`chore`ã€`docs`ã€`style`ã€`refactor`ã€`perf`ã€`test` ç­‰ã€‚è¿™å—å¯ä»¥å‚ç…§ **[@commitlint/config-conventional](https://github.com/conventional-changelog/commitlint/tree/master/%40commitlint/config-conventional)** é‡Œé¢çš„æšä¸¾å€¼ã€‚

<!---->

-   ä½œç”¨åŸŸï¼šæ­¤å­—æ®µå¯è‡ªè¡Œå®šä¹‰æšä¸¾å€¼ï¼Œæ ¹æ®ä¸šåŠ¡æ¨¡å—åˆ’åˆ†å³å¯ï¼Œæ¯”å¦‚ï¼šå½“å‰æ˜¯ã€æ–‡æ¡£ã€‘çš„æ”¹åŠ¨å°±å¯ä»¥å¡«å†™ docsï¼›å½“å‰å½±å“äº† utils åº“ï¼Œå°±å¯ä»¥å¡«å†™ feat(utils)ï¼šç­‰ç­‰ï¼Œå–å€¼ä¸é™åˆ¶ã€‚

<!---->

-   æè¿°ï¼šæè¿°å°±æ˜¯å¯¹å½“å‰ commit çš„ç®€çŸ­æè¿°ï¼Œå°½é‡ç®€çŸ­ï¼Œæ¸…æ™°ã€‚

<!---->

-   æ­£æ–‡ï¼šå¯¹äºç®€çŸ­æè¿°çš„æ‰©å……å¡«å†™ï¼Œå¯é€‰ã€‚

<!---->

-   è„šæ³¨ï¼šåŒ…å«å…³äºæäº¤çš„å…ƒä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šæœ‰å…³è”çš„è¯·æ±‚urlã€cräººå‘˜ã€ç­‰ç­‰ä¸€äº›å…³é”®æ€§ä¿¡æ¯ã€‚

<!---->

-   ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåœ¨å¯é€‰çš„æ­£æ–‡æˆ–è„šæ³¨çš„èµ·å§‹ä½ç½®å¸¦æœ‰Â `BREAKING CHANGE:`Â çš„æäº¤ï¼Œè¡¨ç¤ºå¼•å…¥äº†ç ´åæ€§ API å˜æ›´ï¼ˆè¿™å’Œè¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸­çš„Â `MAJOR`Â ç›¸å¯¹åº”ï¼‰ã€‚ ç ´åæ€§å˜æ›´å¯ä»¥æ˜¯ä»»æ„*ç±»å‹*æäº¤çš„ä¸€éƒ¨åˆ†ã€‚

å¯ä»¥çœ‹å‡º Conventional Commits è§„èŒƒéå¸¸é«˜æ•ˆä¸”ä¸Šæ‰‹éš¾åº¦å¾ˆä½ï¼Œå¹¶ä¸” Conventional Commits å·²ç»è¢«å¾ˆå¤šçŸ¥åçš„å¼€æºé¡¹ç›®æ‰€é›†æˆï¼Œæ˜¯ä¸€ä¸ªè¢«å¤§å®¶å¹¿æ³›æ¥å—çš„æ ‡å‡†ã€‚è€Œæˆ‘ä»¬çš„ç»„ä»¶åº“ä¹Ÿéœ€è¦éµå¾ªå®ƒæ¥è§„èŒƒæˆ‘ä»¬çš„ commitã€‚

è¦å¦‚ä½•éµå¾ªæ­¤è§„èŒƒå‘¢ï¼Ÿç”¨æ’ä»¶æ¥çº¦æŸæˆ‘ä»¬çš„ commit æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹æœ‰å“ªäº›æ’ä»¶å¯ä»¥è®©æˆ‘ä»¬æ„‰å¿«çš„ä½¿ç”¨ã€‚

## å“ªäº›æ’ä»¶å¯ä»¥ç»„åˆèµ·æ¥è§„èŒƒæˆ‘ä»¬çš„ commitï¼Ÿ

### Commitizen

ä¸Šé¢æˆ‘ä»¬è¯´åˆ°äº† Conventional Commits è§„èŒƒï¼Œæˆ‘ä»¬è¦éµå¾ªæ­¤è§„èŒƒæ—¶ï¼Œå¯èƒ½æ‰‹åŠ¨å»å¤„ç† commit ä¿¡æ¯ä¼šæ¯”è¾ƒç¹çï¼Œå¹¶ä¸”å‡ºé”™ç‡ä¹Ÿå¾ˆé«˜ï¼Œæ¯”å¦‚åœ¨æˆ‘ä»¬ä¹¦å†™ fix(scope): xxx æ—¶ï¼Œå¾ˆå®¹æ˜“å¯¹äºç¬¦åˆçš„å…¨è§’è¿˜æ˜¯åŠè§’è¾“å…¥æ³•ææ··ï¼Œè¿™æ ·å¾ˆå®¹æ˜“é€ æˆä¿¡æ¯æ ¼å¼åŒ–çš„å¤±è´¥ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•é«˜æ•ˆç¨³å®šçš„éµå¾ª Conventional Commits è§„èŒƒå‘¢ï¼ŸCommitizen åº”å£°è€Œæ¥ã€‚

Commitizen å¯ä»¥è¯´æ˜¯ä¸€ä¸ªäº¤äº’æ€§æ—¥å¿—æäº¤å·¥å…·ï¼Œç”¨äºè¾…åŠ©å¼€å‘è€…æäº¤ç¬¦åˆè§„èŒƒçš„ commit ä¿¡æ¯ã€‚å®ƒå¯ä»¥è¯´æ˜¯æä¾›äº†â€œä¿å§†å¼â€çš„æäº¤ä½“éªŒï¼Œåœ¨æˆ‘ä»¬è§¦å‘ commit çš„è„šæœ¬åï¼Œåªéœ€è¦æ ¹æ®æç¤ºæ¥é€‰æ‹©æˆ‘ä»¬çš„æäº¤ä¿¡æ¯ï¼Œå°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªç¬¦åˆè§„èŒƒçš„ commitã€‚

```
? Select the type of change that you're committing: (Use arrow keys)
â¯ feat:     A new feature 
  fix:      A bug fix 
  docs:     Documentation only changes 
  style:    Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc) 
  refactor: A code change that neither fixes a bug nor adds a feature 
  perf:     A code change that improves performance 
  test:     Adding missing tests or correcting existing tests 
(Move up and down to reveal more choices)
```

### cz-customizable

cz-customizable ä½œä¸ºä¸€ä¸ªç”¨äºè‡ªå®šä¹‰ Commitizen çš„æ‰©å±•æ’ä»¶ï¼Œå¯ä»¥åœ¨åŸç”Ÿ Commitizen çš„æ ‡å‡†ä¸Šï¼Œæ ¹æ®é…ç½®æ–‡ä»¶æ¥è‡ªå®šä¹‰æˆ‘ä»¬çš„æäº¤è§„èŒƒã€‚å¯ä»¥è¯´æ˜¯ç”¨æ¥æ‰©å±• Commitizen çš„ç¥å™¨ã€‚ä¸€èˆ¬éƒ½ç”¨äº Commitizen çš„é…å¥—ä½¿ç”¨ã€‚

```
? é€‰æ‹©ä¸€ç§ä½ çš„æäº¤ç±»å‹: (Use arrow keys)
â¯ feat ğŸ„:    æ–°å¢æ–°çš„ç‰¹æ€§ 
  fix ğŸ›:    ä¿®å¤ BUG 
  docs ğŸ“„:    ä¿®æ”¹æ–‡æ¡£ã€æ³¨é‡Š 
  refactor ğŸ¸:    ä»£ç é‡æ„ï¼Œæ³¨æ„å’Œç‰¹æ€§ã€ä¿®å¤åŒºåˆ†å¼€ 
  perf âš¡:    æå‡æ€§èƒ½ 
  test ğŸ‘€:    æ·»åŠ ä¸€ä¸ªæµ‹è¯• 
  tool ğŸš—:    å¼€å‘å·¥å…·å˜åŠ¨(æ„å»ºã€è„šæ‰‹æ¶å·¥å…·ç­‰) 
(Move up and down to reveal more choices)
```

### commitlint

commitlint ç”¨æ¥æ ¡éªŒæ£€æŸ¥æˆ‘ä»¬çš„æäº¤ commit æ˜¯å¦ç¬¦åˆ[conventional commit format](https://link.juejin.cn/?target=https%3A%2F%2Fconventionalcommits.org%2F)ã€‚ç±»ä¼¼äº eslintï¼Œcommitlint å¯ä»¥æ ¹æ®æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶æˆ–è€…é»˜è®¤çš„é€‰é¡¹å€¼æ¥æ ¡éªŒæˆ‘ä»¬çš„ commit ä¿¡æ¯ï¼Œä¸é€šè¿‡çš„æ ¡éªŒä¼šè¢«ç›´æ¥æ‰“å›ã€‚

### standard-version

standard-versionÂ æ˜¯ä¸€æ¬¾éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆsemverï¼‰å’ŒÂ commit message æ ‡å‡†è§„èŒƒçš„ç‰ˆæœ¬è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå®ƒè¿˜å¯ä»¥ä½¿ç”Ÿæˆ changelog è‡ªåŠ¨åŒ–ã€‚å¹¶ä¸”å°†æˆ‘ä»¬ç¬¦åˆ Conventional Commits è§„èŒƒçš„æäº¤ä¿¡æ¯æ ¼å¼åŒ–ï¼Œå¹¶å®Œæˆä»¥ä¸‹æ“ä½œï¼š

-   æ ¹æ®ç°åœ¨ package.json æ–‡ä»¶ä¸­çš„ ç‰ˆæœ¬å· version è¿›è¡Œ commit çš„æ•´åˆã€‚å¹¶æ›´æ–° changelog æ–‡ä»¶ã€‚

<!---->

-   æäº¤æš‚å­˜æ–‡ä»¶ git add . ã€‚

<!---->

-   git commit ã€‚

<!---->

-   æ‰“æ ‡ç­¾ git tagã€‚

æ€»ä½“æ¥è¯´ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åŒ–çš„è¿›è¡Œäº†å‘ç‰ˆæ‰€éœ€è¦çš„æ­¥éª¤ï¼Œå¹¶ä¸”æ ¹æ® commit ä¿¡æ¯ï¼Œç”Ÿæˆ log æ—¥å¿—ã€‚è¿™æ ·æˆ‘ä»¬å°±åªéœ€è¦ä¸“æ³¨äºæˆ‘ä»¬çš„é€»è¾‘å¼€å‘ï¼Œå…¶ä»–çš„éƒ½å¯ä»¥äº¤ç»™ standard-version å»å®Œæˆã€‚

ä»¥ä¸Šæ˜¯æˆ‘ä»¬è§„èŒƒ commit ä¿¡æ¯ã€æ ¹æ®æäº¤çš„ commit ä¿¡æ¯è‡ªåŠ¨åŒ–æ›´æ–° changelogã€å‘ç‰ˆç­‰ä¸€æ¡é¾™æœåŠ¡æ‰€å¿…é¡»ç”¨åˆ°çš„æ’ä»¶ã€‚ç»è¿‡ç®€å•çš„ç†Ÿæ‚‰åï¼Œæˆ‘ä»¬æ¥è¿›è¡Œå®é™…çš„é…ç½®ï¼Œè®©æˆ‘ä»¬ç»„ä»¶åº“çš„ commit ä¼˜ç¾èµ·æ¥ã€‚

## å®‰è£…é…ç½®

ä¿—è¯è¯´çš„å¥½ï¼ŒåŠ¨æ‰‹æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä¸€æ­¥æ­¥å®‰è£…é…ç½®æˆ‘ä»¬çš„ commit è§„èŒƒã€‚

### 1. å®‰è£… commitizen å’Œ cz-customizable

```
pnpm install -D commitizen cz-customizable
```

åœ¨æœ€å¤–å±‚ package.json æ–‡ä»¶ä¸­æ·»åŠ è„šæœ¬å‘½ä»¤å’Œé…ç½®é¡¹ï¼Œä½¿ commitizen ä½¿ç”¨cz-customizable æ’ä»¶ã€‚

```
{
  ...
  "scripts" : {
    ...
    "commit": "git cz"
  }
  ...
  "config": {
    "commitizen": {
      "path": "cz-customizable"
    }
  }
}
```

æ¥ä¸‹æ¥åœ¨æ ¹ç›®å½•æ–°å»º .cz-config.js æ–‡ä»¶ï¼Œå¹¶åŠ å…¥æˆ‘ä»¬çš„æ±‰åŒ–é…ç½®ã€‚

```
 // .cz-config.js module.exports = {
    types: [
        { value: "feat", name: "feat ğŸ„:    æ–°å¢æ–°çš„ç‰¹æ€§" },
        { value: "fix", name: "fix ğŸ›:    ä¿®å¤ BUG" },
        { value: "docs", name: "docs ğŸ“„:    ä¿®æ”¹æ–‡æ¡£ã€æ³¨é‡Š" },
        { value: "refactor", name: "refactor ğŸ¸:    ä»£ç é‡æ„ï¼Œæ³¨æ„å’Œç‰¹æ€§ã€ä¿®å¤åŒºåˆ†å¼€" },
        { value: "perf", name: "perf âš¡:    æå‡æ€§èƒ½" },
        { value: "test", name: "test ğŸ‘€:    æ·»åŠ ä¸€ä¸ªæµ‹è¯•" },
        { value: "tool", name: "tool ğŸš—:    å¼€å‘å·¥å…·å˜åŠ¨(æ„å»ºã€è„šæ‰‹æ¶å·¥å…·ç­‰)" },
        { value: "style", name: "style âœ‚:    å¯¹ä»£ç æ ¼å¼çš„ä¿®æ”¹ä¸å½±å“é€»è¾‘" },
        { value: "revert", name: "revert ğŸŒ:     ç‰ˆæœ¬å›æ»š" },
        { value: "update", name: "update â¬†:    ç¬¬ä¸‰æ–¹åº“å‡çº§ " }
    ],
  
    scopes: [{ name: 'ç»„ä»¶' }, { name: 'æ ·å¼' }, { name: 'æ–‡æ¡£æ›´æ”¹' }, { name: 'å…¶å®ƒå˜æ›´' }],
  
    allowTicketNumber: false,
    isTicketNumberRequired: false,
    ticketNumberPrefix: 'TICKET-',
    ticketNumberRegExp: '\d{1,5}',
    messages: {
        type: "é€‰æ‹©ä¸€ç§ä½ çš„æäº¤ç±»å‹:",
        scope: "é€‰æ‹©ä¸€ä¸ªscope (å¯é€‰):",         
        customScope: "Denote the SCOPE of this change:",
        subject: "ç®€è¦è¯´æ˜:\n",
        body: 'è¯¦ç»†è¯´æ˜ï¼Œä½¿ç”¨"|"æ¢è¡Œ(å¯é€‰)ï¼š\n',
        breaking: "éå…¼å®¹æ€§è¯´æ˜ (å¯é€‰):\n",
        footer: "å…³è”å…³é—­çš„issueï¼Œä¾‹å¦‚ï¼š#31, #34(å¯é€‰):\n",
        confirmCommit: "ç¡®å®šæäº¤?"
    },
  
    allowCustomScopes: true,
    allowBreakingChanges: ['æ–°å¢', 'ä¿®å¤'],     subjectLimit: 100   };
```

é…ç½®å¥½åæˆ‘ä»¬å…ˆè¿›è¡Œæµ‹è¯•ï¼š`npm run commit` ï¼Œå¾—å‡ºä¸‹é¢ç»“æœï¼š

```
All lines except first will be wrapped after 100 characters.
? é€‰æ‹©ä¸€ç§ä½ çš„æäº¤ç±»å‹: (Use arrow keys)
â¯ feat ğŸ„:    æ–°å¢æ–°çš„ç‰¹æ€§ 
  fix ğŸ›:    ä¿®å¤ BUG 
  docs ğŸ“„:    ä¿®æ”¹æ–‡æ¡£ã€æ³¨é‡Š 
  refactor ğŸ¸:    ä»£ç é‡æ„ï¼Œæ³¨æ„å’Œç‰¹æ€§ã€ä¿®å¤åŒºåˆ†å¼€ 
  perf âš¡:    æå‡æ€§èƒ½ 
  test ğŸ‘€:    æ·»åŠ ä¸€ä¸ªæµ‹è¯• 
  tool ğŸš—:    å¼€å‘å·¥å…·å˜åŠ¨(æ„å»ºã€è„šæ‰‹æ¶å·¥å…·ç­‰) 
```

è¯´æ˜é…ç½®å®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥æ¥ç€å¾€ä¸‹è¿›è¡Œã€‚

### 2. å®‰è£… commitlint

```
pnpm install -D commitlint-config-cz @commitlint/cli yorkie
```

åœ¨ package.json ä¸­çš„ husky hook ä¸­æ·»åŠ æ¯æ¬¡ commit ä¿¡æ¯çš„æ ¡éªŒå›è°ƒã€‚

*psï¼šæ²¡æœ‰å®‰è£… husky çš„å…ˆè‡ªè¡Œå®‰è£… `pnpm install -D husky`*

```
{
"husky": {
    "hooks": {
      "commit-msg": "commitlint -e -V",
    }
  }
}
```

åœ¨æ ¹ç›®å½•æ„å»º commitlint.config.js æ–‡ä»¶ï¼Œè¿›è¡Œ commitlint çš„é…ç½®ã€‚

```
module.exports = {
  extends: ['cz'],
  parserPreset: {
    parserOpts: {
      headerPattern: /^(.*?)((.*?)):\s?(.*)$/,
      headerCorrespondence: ['type', 'scope', 'subject'],
    },
  },
  rules: {
    'type-empty': [2, 'never'],
    'subject-empty': [2, 'never'],
  },
};
```

æ¥ä¸‹æ¥æˆ‘ä»¬å®éªŒä¸€ä¸‹ï¼Œæäº¤ä¸€ä¸ªç©ºå†…å®¹ã€‚

```
? é€‰æ‹©ä¸€ç§ä½ çš„æäº¤ç±»å‹: feat ğŸ„:    æ–°å¢æ–°çš„ç‰¹æ€§
? é€‰æ‹©ä¸€ä¸ªscope (å¯é€‰): å…¶å®ƒå˜æ›´
? ç®€è¦è¯´æ˜:

âœ  sten-design git:(master) âœ— git commit -m 'feat' 
husky > commit-msg (node v14.17.0)
â§—   input: feat
âœ–   type may not be empty [type-empty]
âœ–   subject may not be empty [subject-empty]

âœ–   found 2 problems, 0 warnings
â“˜   Get help: https://github.com/conventional-changelog/commitlint/#what-is-commitlint

husky > commit-msg hook failed (add --no-verify to bypass)
```

ä¼šæŠ¥é”™ï¼Œè¯´æ˜æˆ‘ä»¬çš„ commitlint å·²ç»ç”Ÿæ•ˆã€‚

### 3. å®‰è£… standard-version

```
pnpm install -D standard-version
```

é…ç½®è„šæœ¬ã€‚

```
 // package.json
{
  "scripts": {
    "release": "standard-version"
  }
}
```

å¢åŠ  .versionrc.js æ–‡ä»¶æ¥æ ¼å¼åŒ– log ï¼Œä½¿æˆ‘ä»¬çš„ changelog æ ¹æ® Conventional Commits è§„èŒƒæ›´åŠ è¯­ä¹‰åŒ–ã€‚

```
module.exports = {
    "types": [
      { "type": "feat", "section": "âœ¨ Features | æ–°åŠŸèƒ½" },
      { "type": "fix", "section": "ğŸ› Bug Fixes | Bug ä¿®å¤" },
      { "type": "init", "section": "ğŸ‰ Init | åˆå§‹åŒ–" },
      { "type": "docs", "section": "âœï¸ Documentation | æ–‡æ¡£" },
      { "type": "style", "section": "ğŸ’„ Styles | é£æ ¼" },
      { "type": "refactor", "section": "â™»ï¸ Code Refactoring | ä»£ç é‡æ„" },
      { "type": "perf", "section": "âš¡ Performance Improvements | æ€§èƒ½ä¼˜åŒ–" },
      { "type": "test", "section": "âœ… Tests | æµ‹è¯•" },
      { "type": "revert", "section": "âª Revert | å›é€€" },
      { "type": "build", "section": "ğŸ“¦ Build System | æ‰“åŒ…æ„å»º" },
      { "type": "update", "section": "ğŸš€ update | æ„å»º/å·¥ç¨‹ä¾èµ–/å·¥å…·å‡çº§" },
      { "type": "tool", "section": "ğŸš€ tool | å·¥å…·å‡çº§" },
      { "type": "ci", "section": "ğŸ‘· Continuous Integration | CI é…ç½®" }
    ]
  }
```

å…ˆæäº¤ä¸€ä¸ª commit å†æµ‹è¯•ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1385985a47c844a6acc467e5cf09c37f~tplv-k3u1fbpfcp-zoom-1.image)

ç„¶åæˆ‘ä»¬å†æ‰§è¡Œ `yarn release` å‡çº§ç‰ˆæœ¬ï¼š

```
yarn run v1.22.11
$ standard-version
âœ” bumping version in package.json from 0.0.1 to 0.0.2
âœ” created CHANGELOG.md
âœ” outputting changes to CHANGELOG.md
âœ” committing package.json and CHANGELOG.md
husky > commit-msg (node v14.17.0)
â§—   input: chore(release): 0.0.2
âœ”   found 0 problems, 0 warnings

âœ” tagging release v0.0.2
â„¹ Run `git push --follow-tags origin master` to publish
âœ¨  Done in 2.79s.
```

æˆ‘ä»¬å†çœ‹ä¸‹ CHANGELOG.md æ–‡ä»¶ï¼š

```
# Changelog
All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

### [0.1.1]( https://github.com/fanshyiis/sten-design/compare/v0.0.8...v0.1.1) (2022-02-12)
### ğŸš€ tool | å·¥å…·å‡çº§
* **å…¶å®ƒå˜æ›´:** æµ‹è¯• commit ä¿¡æ¯ ([6446270](https://github.com/fanshyiis/sten-design/commit/64462708008fa863abcfc026191fe20499f586f8))

### âœ¨ Features | æ–°åŠŸèƒ½
* **ç»„ä»¶:** æˆ‘æ˜¯ä¸€ä¸ªæ–°åŠŸèƒ½ ([9b9d30f](https://github.com/fanshyiis/sten-design/commit/9b9d30f7bac36b9b8c6e4786be45031cea6bfba6))
```

å’Œå…·ä½“ Git ä¸Šå±•ç¤ºæ•ˆæœï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a7ddca7bcb194c2c80d1169862d4c4f7~tplv-k3u1fbpfcp-zoom-1.image)

éå¸¸å®Œç¾~

## æ€»ç»“

åœ¨ Conventional Commits å’Œä¸€ç³»åˆ—ç»„ä»¶çš„çº¦æŸä¸‹ï¼Œå¯ä»¥ä½¿æˆ‘ä»¬çš„ changelog æ–‡ä»¶æ›´åŠ ç›´è§‚ã€ä¼˜ç¾ã€‚å¹¶ä¸”ï¼Œå…¨è‡ªåŠ¨åŒ–çš„é…ç½®ï¼Œä¹Ÿä¸éœ€è¦æˆ‘ä»¬è¿‡å¤šçš„å…³æ³¨ï¼Œåªéœ€è¦ç”¨å¿ƒå†™å¥½æ¯ä¸€ä¸ª commit çš„æè¿°ä¿¡æ¯å³å¯ã€‚
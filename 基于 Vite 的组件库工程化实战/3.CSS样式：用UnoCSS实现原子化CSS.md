ç›¸ä¿¡å¤§å®¶åœ¨æŒ‘é€‰ç»„ä»¶åº“çš„æ—¶å€™ï¼Œæ ·å¼é£æ ¼éƒ½æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„è€ƒé‡ç›®æ ‡ã€‚è¿™èŠ‚è¯¾çš„ä»»åŠ¡æ˜¯ç»™ç»„ä»¶åº“æ·»åŠ æ ·å¼ç³»ç»Ÿï¼Œè®©ç»„ä»¶åº“å¯ä»¥æ‹¥æœ‰ä¸€å¥—ç»Ÿä¸€é£æ ¼çš„æ ·å¼ã€‚

å¤§å®¶å¯ä»¥å…ˆçœ‹çœ‹æˆå“çš„æ•ˆæœã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/19471b0f0ca840c09cfcd6b4daf2f441~tplv-k3u1fbpfcp-zoom-1.image)

æœ¬ç« å‚è€ƒä»£ç ï¼š https://github.com/smarty-team/smarty-admin/tree/chapter03/packages/smarty-ui-vite

## ç”¨æˆ·æ•…äº‹(UserStory)ï¼š

é€šè¿‡UnoCSSä¸ºç»„ä»¶åº“æ·»åŠ æ ·å¼ç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡å±æ€§å®šåˆ¶ç»„ä»¶æ ·å¼ã€‚

## ä»»åŠ¡åˆ†è§£(Task)

-   å¼•å…¥ UnoCSS æ ·å¼ï¼›
-   å®ç°ç»„ä»¶å±æ€§å®šåˆ¶æŒ‰é’®æ ·å¼ï¼›
-   å®ç°ã€Iconå›¾æ ‡æŒ‰é’®ã€‘ã€‚

## ã€ŒAtomic/Utility-First CSSã€ä¸ã€ŒSemantic CSS ã€çš„é€‰æ‹©

æ¯ä¸ªç»„ä»¶åº“éƒ½æœ‰ä¸€å¥—å®Œå¤‡çš„æ ·å¼ç³»ç»Ÿï¼Œç¡®ä¿ç»„ä»¶æ ·å¼é£æ ¼çš„ç»Ÿä¸€ã€‚ç»å…¸çš„ç»„ä»¶åº“ (ElementUI) çš„æ ·å¼ç³»ç»Ÿéƒ½æ˜¯éµå¾ªã€ŒSemantic CSS ã€(è¯­ä¹‰åŒ– CSS )æ­å»ºçš„ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/62c1c51020654c77a9faf94c6146f43f~tplv-k3u1fbpfcp-zoom-1.image)

ç»„ä»¶åº“é€šå¸¸éƒ½éœ€è¦æ­å»ºä¸€ä¸ª CSS å­å·¥ç¨‹ï¼Œç”¨äºå®ç°è‡ªå·±çš„ç±»å‹ç³»ç»Ÿã€‚æ¯”å¦‚ Element å°±æ˜¯åŸºäº Sass + Gulp æ­å»ºçš„ã€‚ä¸è¿‡éšç€åŸå­æ ·å¼çš„å‡ºç°ï¼Œæœ‰äº†ä¸€äº›æ›¿ä»£æ–¹æ¡ˆï¼Œæ— éœ€æ­å»ºæ ·å¼ç³»ç»Ÿä¹Ÿå¯ä»¥å®Œæˆç±»ä¼¼æ•ˆæœã€‚é¦–å…ˆå…ˆç®€å•ä»‹ç»ä¸€ä¸ªåŸå­æ ·å¼æ˜¯ä»€ä¹ˆã€‚

2020å¹´ä¸€ç§å«åšAtomicCSSçš„ç»„ä»¶é£æ ¼æ¨ªç©ºå‡ºä¸–ï¼Œä»£è¡¨ä½œå°±æ˜¯ TailwindCSSã€‚æœ€è¿‘ä¸¤å¹´ï¼ŒTailwindCSS ä¸€ç›´ä¿æŒé«˜çƒ­åº¦ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ae8ccde88ae94e388216eb2c39c15d53~tplv-k3u1fbpfcp-zoom-1.image)

å¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹ Vite çš„ç¤¾åŒºæ¨¡æ¿åº“ï¼Œtailwind å‡ ä¹å°±æ˜¯æ ‡é…ã€‚

<https://github.com/vitejs/awesome-vite#templates>

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/042bb600c2e44f33929d467fcc9b0da5~tplv-k3u1fbpfcp-zoom-1.image)

ä»ç»„ä»¶åº“å¼€å‘è§’åº¦è®²ï¼Œä½¿ç”¨ Tailwind æä¾›çš„æ ·å¼ç³»ç»Ÿï¼Œå¯ä»¥å¾ˆå¥½åœ°é™ä½ UI åº“çš„å¼€å‘éš¾åº¦ã€‚**åˆ©ç”¨åŸå­åŒ–é£æ ¼*** *ï¼Œ****å®Œå…¨å°±å¯ä»¥é«˜æ•ˆå®Œæˆæ ·å¼çš„å®šåˆ¶****ï¼Œ****æœªå¿…ä¸€å®šéœ€è¦å®šåˆ¶ä¸€å¥—è¯­ä¹‰åŒ–æ ·å¼ç³»ç»Ÿã€‚**

## ä¸ºä»€ä¹ˆé€‰ UnoCSS å®ç° AtomicCSSï¼Ÿ

[UnoCSSçš„githubåœ°å€](https://github.com/unocss/unocss)

åŸå­æ ·å¼ä¹Ÿæœ‰å¾ˆå¤šé€‰æ‹©ï¼Œæœ€è‘—åçš„å°±æ˜¯ Tailwindã€‚ Tailwind è™½ç„¶å¥½ï¼Œä½†æ˜¯æ€§èƒ½ä¸Šæœ‰ä¸€äº›ä¸è¶³ã€‚ç”±äºTailwind ä¼šç”Ÿæˆå¤§é‡æ ·å¼å®šä¹‰ã€‚å…¨é‡çš„ CSS æ–‡ä»¶å¾€å¾€ä½“ç§¯ä¼šå¤šè‡³æ•° MBã€‚è¿™ä¸ªå¯¹äºé¡µé¢æ€§èƒ½æ˜¯å®Œå…¨ä¸å¯æ¥å—çš„ã€‚å¦‚æœåœ¨å¼€å‘æ—¶è¿›è¡ŒåŠ¨æ€çš„æŒ‰éœ€å‰ªè£ï¼Œåˆä¼šå½±å“ç¼–è¯‘æ€§èƒ½ï¼Œé™ä½å¼€å‘ä½“éªŒã€‚ä¸ºäº†è§£å†³æ€§èƒ½é—®é¢˜ï¼Œå¼€æºç•Œä¸€ä¸ªå«åš Antfu çš„å¤§ç¥è®¾è®¡äº† UnoCSSã€‚UnoCSS æ˜¯ä¸€ä¸ªæ‹¥æœ‰é«˜æ€§èƒ½ä¸”å…·çµæ´»æ€§çš„å³æ—¶åŸå­åŒ– CSS å¼•æ“ï¼Œå¯ä»¥å…¼é¡¾äº§ç‰©ä½“ç§¯å’Œå¼€å‘æ€§èƒ½ã€‚

é™¤æ­¤ä»¥å¤–UnoCSSè¿˜å¯ä»¥æœ‰æ›´å¼ºçš„å¯å®šåˆ¶æ€§å’Œæ˜“ç”¨æ€§ã€‚

-   [å®Œå…¨å¯å®šåˆ¶](https://github.com/antfu/unocss#configurations) - æ²¡æœ‰æ ¸å¿ƒå®ç”¨ç¨‹åºï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡é¢„è®¾æä¾›ã€‚
-   æ— éœ€è§£æã€æ— éœ€ ASTã€æ— éœ€æ‰«æï¼Œå®ƒæ˜¯**å³æ—¶çš„**ï¼ˆæ¯” Windi CSS æˆ– Tailwind JIT å¿« 200 å€ï¼‰
-   ~3.5kb min+gzip - é›¶ä¾èµ–å’Œæµè§ˆå™¨å‹å¥½ã€‚
-   [å¿«æ·æ–¹å¼](https://github.com/antfu/unocss#shortcuts) - åŠ¨æ€åˆ«åå®ç”¨ç¨‹åºã€‚
-   [å±æ€§æ¨¡å¼](https://github.com/antfu/unocss/tree/main/packages/preset-attributify/) - åœ¨å±æ€§ä¸­åˆ†ç»„å®ç”¨ç¨‹åº
-   [çº¯ CSS å›¾æ ‡](https://github.com/antfu/unocss/tree/main/packages/preset-icons/) - ä½¿ç”¨ä»»ä½•å›¾æ ‡ä½œä¸ºå•ä¸ªç±»ã€‚
-   [æ£€æŸ¥å™¨](https://github.com/antfu/unocss#inspector) - ä»¥äº¤äº’æ–¹å¼æ£€æŸ¥å’Œè°ƒè¯•ã€‚
-   [CSS-in-JS è¿è¡Œæ—¶ç‰ˆæœ¬](https://github.com/antfu/unocss/tree/main/packages/runtime)ã€‚
-   [CSS Scoping](https://github.com/antfu/unocss#css-scoping)ã€‚
-   CSS ä»£ç æ‹†åˆ† - ä¸º MPA æä¾›æœ€å°çš„ CSSã€‚
-   åº“å‹å¥½ - éšä½ çš„ç»„ä»¶åº“æä¾›åŸå­æ ·å¼å¹¶å®‰å…¨åœ°é™å®šèŒƒå›´ã€‚

å¦å¤–åŸºäº Vite è‰¯å¥½çš„æ”¯æŒï¼Œä¹Ÿæ˜¯é€‰æ‹©UnoCSSçš„ä¸€ä¸ªé‡è¦åŸå› ã€‚æˆ‘è®¤ä¸º UnoCSS ä¹Ÿå¯ä»¥ç®—æ˜¯ Vite ç¤¾åŒºçš„ä¸€ä¸ªé‡è¦çš„äº§å“ã€‚

## åŠŸèƒ½å®ç°

<https://github.com/unocss/unocss>

é¦–å…ˆé€šè¿‡ Vite æ’ä»¶çš„å½¢å¼å¼•å…¥ UnoCSSã€‚

### å¼•å…¥UnoCSS

å®‰è£… UnoCSS åº“ã€‚

```
pnpm i -D unocss@"0.45.6"
pnpm i -D @iconify-json/ic@"1.1.4"
```

åœ¨ Vite ä¸­æ·»åŠ  UnoCSS æ’ä»¶ã€‚

```
import { presetUno, presetAttributify, presetIcons } from "unocss";
import Unocss from "unocss/vite";
export default defineConfig({
 Â plugins: [
 Â  Â ...
 Â  Â // æ·»åŠ UnoCSSæ’ä»¶
 Â  Â Unocss({
 Â  Â  Â  Â presets: [presetUno(), presetAttributify(), presetIcons()],
 Â   })
  ],
});
```

ä¸‹é¢å°±å¯ä»¥åœ¨æ’ä»¶ä¸­å¼•å…¥ UnoCSS äº†ã€‚åŠ è½½ Unocss æ’ä»¶åï¼ŒVite ä¼šé€šè¿‡åˆ†æ class çš„ä½¿ç”¨çŠ¶å†µæä¾›ç›¸åº”çš„æ ·å¼å®šä¹‰ã€‚

åœ¨ Button ç»„ä»¶ä¸­å¼•å…¥ UnoCSSã€‚

/src/button/index.tsx

> æ³¨æ„: è¿™ä¸ªåœ°æ–¹æ–‡ä»¶åå·²ç»ä» index.tså˜ä¸º index.tsx


```
import { defineComponent,PropType,toRefs} from "vue";
import "uno.css";
export default defineComponent({
 Â name: "SButton",
 Â setup(props, {slots}) {
 Â  Â return () => <button 
      class={`
      py-2 
      px-4 
      font-semibold 
      rounded-lg 
      shadow-md 
      text-white 
      bg-green-500 
      hover:bg-green-700 
      border-none 
      cursor-pointer 
      `}
 Â  Â  Â  Â > 
 Â  Â  Â   {slots.default ? slots.default() : ''}
 Â  Â  </button>
  }
});
```

åœ¨ index.ts ä¸­æ·»åŠ ä¸€ä¸ªæµ‹è¯•ä»£ç ã€‚

```
createApp({
 Â  Â  Â  Â template:`
 Â  Â  Â  Â  Â  Â <div>
 Â  Â  Â  Â  Â  Â  Â  Â <SButton>æ™®é€šæŒ‰é’®</SButton>
 Â  Â  Â  Â  Â  Â </div>
 Â  Â  Â  Â `
 Â   })
.use(SmartyUI)
.mount("#app");
```

æœ€ç»ˆå‘ˆç°çš„æ•ˆæœï¼š

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0011645188d3478b9d96d2f5156078ca~tplv-k3u1fbpfcp-zoom-1.image)

åˆ°æ­¤ä¸ºæ­¢ï¼Œè¯´æ˜ UnoCSS å·²ç»æ­£å¸¸å¼•å…¥äº†ã€‚

### å®ç°ç»„ä»¶å±æ€§å®šåˆ¶æŒ‰é’®æ ·å¼

ä¸‹é¢è¦å®ç°æ ¹æ®å±æ€§å®šåˆ¶æŒ‰é’®æ ·å¼åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œé€šè¿‡colorå±æ€§å®šåˆ¶é¢œè‰²ã€‚

```
 <div>
  <SButton color="blue">è“è‰²æŒ‰é’®</SButton>
  <SButton color="green">ç»¿è‰²æŒ‰é’®</SButton>
  <SButton color="gray">ç°è‰²æŒ‰é’®</SButton>
  <SButton color="yellow">é»„è‰²æŒ‰é’®</SButton>
  <SButton color="red">çº¢è‰²æŒ‰é’®</SButton>
 </div>
```

é¦–å…ˆéœ€è¦å®šä¹‰ç»„ä»¶çš„å±æ€§ç±»å‹ã€‚

```
import { defineComponent,PropType,toRefs} from "vue";
import "uno.css";

export type IColor = 'black' | 'gray' | 'red' | 'yellow' | 'green'|'blue'|'indigo'|'purple'|'pink'
export const props = {
 Â color: {
 Â  Â type: String as PropType<IColor>,
 Â  Â default: 'blue' Â // è®¾å®šé»˜è®¤é¢œè‰²
  },
}
export default defineComponent({
 Â name: "SButton",
 Â props, Â // æ³¨å†Œå±æ€§
 Â ...
  }
});
```

ä¸‹é¢å°±å¯ä»¥ç”¨å±æ€§å˜é‡æ‹¼è£… UnoCSSã€‚çœ‹åˆ°è¿™é‡Œå¤§å®¶å°±å¯ä»¥æ„Ÿå—åˆ°åŸå­ CSS çš„å¥½å¤„ã€‚åŸºæœ¬å¸¸ç”¨çš„å±æ€§å®šä¹‰éƒ½å¯ä»¥é€šè¿‡ç®€å•çš„å­—ç¬¦ä¸²æ‹¼è£…å®Œæˆã€‚

```
export default defineComponent({
 Â name: "SButton",
 Â props,
 Â setup(props, {slots}) {
 Â  Â return () => <button 
 Â  Â  Â  Â class={`
 Â  Â  Â  Â  Â py-2 
 Â  Â  Â  Â  Â px-4 
 Â  Â  Â  Â  Â font-semibold 
 Â  Â  Â  Â  Â rounded-lg 
 Â  Â  Â  Â  Â shadow-md 
 Â  Â  Â  Â  Â text-white 
 Â  Â  Â  Â  Â bg-${props.color}-500 
 Â  Â  Â  Â  Â hover:bg-${props.color}-700 
 Â  Â  Â  Â  Â border-none 
 Â  Â  Â  Â  Â cursor-pointer 
 Â  Â  Â  Â  Â m-1
 Â  Â  Â  Â  Â `}
 Â  Â  Â  Â > 
 Â  Â  Â  Â {slots.default ? slots.default() : ''}
 Â  Â  </button>
 Â }
});
```

ä¸‹é¢çœ‹ä¸€ä¸‹æ•ˆæœï¼š

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7820a51c7e2a4b169d0804b0b3e7f927~tplv-k3u1fbpfcp-zoom-1.image)

å—¯ï¼Œæ€ä¹ˆæ²¡çœ‹è§é¢œè‰²å‘¢ï¼Ÿï¼Ÿå‡ºäº†ä»€ä¹ˆäº‹æƒ…ã€‚

ä»”ç»†ç ”ç©¶ UnoCSS çš„æ–‡æ¡£æ‰å‘ç°é—®é¢˜ã€‚ä¸»è¦åŸå› æ˜¯ UnoCSS é»˜è®¤æ˜¯æŒ‰éœ€ç”Ÿæˆæ–¹å¼ã€‚ä¹Ÿå°±æ˜¯è¯´åªç”Ÿæˆä»£ç ä¸­ä½¿ç”¨è¿‡çš„æ ·å¼ã€‚é‚£å¦‚æœåœ¨ class å±æ€§ä¸­ä½¿ç”¨å˜é‡ï¼Œæ˜¯æ— æ³•åˆ†æå˜é‡çš„å–å€¼çš„ã€‚è¿™æ ·ä¹Ÿå°±æ— æ³•åŠ¨æ€ç”Ÿæˆæ ·å¼äº†ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒUnoCSS æä¾›äº†å®‰å…¨åˆ—è¡¨é€‰é¡¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠæ ·å¼å®šä¹‰ä¸­å˜é‡çš„å–å€¼æ·»åŠ åˆ° Safelist ä¸­å»ã€‚è¿™æ · UnoCSS å°±ä¼šæ ¹æ® Safelist ç”Ÿæˆæ ·å¼äº†ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de83381a618c4a39a7b8aef063e3f924~tplv-k3u1fbpfcp-zoom-1.image)

ä¸‹é¢å¼€å§‹å®šåˆ¶å®‰å…¨åˆ—è¡¨ã€‚å®‰å…¨åˆ—è¡¨å±æ€§åº”è¯¥å®šä¹‰åœ¨ UnoCSS æ’ä»¶çš„é…ç½®ä¸­ã€‚

è¿™é‡Œé¢è¦åšä¸€ä¸ªé…ç½®ä¸Šçš„é‡æ„ã€‚è€ƒè™‘åˆ°åç»­ä¼šåœ¨ Safelist ä¸­æ·»åŠ å¤§é‡é…ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬å°† UnoCSS é…ç½®æ‹†æˆä¸€ä¸ªæ–°çš„ ts æ¨¡å—ï¼Œç„¶åå¼•ç”¨åˆ° vite.config.ts ä¸­ã€‚

é¡¹ç›®åœ¨æ­å»ºçš„è¿‡ç¨‹ä¸­ä¼šä¸æ–­åœ°è¿›è¡Œé‡æ„ã€‚å¸Œæœ›å¤§å®¶åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œä¸€å®šè¦ç§¯ææ€è€ƒå¦‚ä½•ç¼–å†™æ›´åŠ åˆç†æ˜“äºç»´æŠ¤çš„ä»£ç ã€‚

config/unocss.ts

```
import { presetUno, presetAttributify, presetIcons } from "unocss";
import Unocss from "unocss/vite";

const colors = [
 Â "white",
 Â "black",
 Â "gray",
 Â "red",
 Â "yellow",
 Â "green",
 Â "blue",
 Â "indigo",
 Â "purple",
 Â "pink",
];

const safelist = [

 Â ...colors.map((v) => `bg-${v}-500`),
 Â ...colors.map((v) => `hover:bg-${v}-700`),
];

export default () =>
 Â Unocss({
 Â  Â safelist,
 Â  Â presets: [presetUno(), presetAttributify(), presetIcons()],
  });
```

vite.config.ts

```
import Unocss from "./config/unocss";

export default defineConfig({

 Â plugins: [

 Â  Â Unocss(),
  ],

})
```

æœ€åçœ‹çœ‹æ˜¯ä¸æ˜¯ç¼¤çº·çš„é¢œè‰²å·²ç»å‡ºç°äº†ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f8613673a6dc4c34b7b73547bbce8505~tplv-k3u1fbpfcp-zoom-1.image)

å‚è€ƒä»£ç æ”¾åœ¨è¿™ ï¼š<https://github.com/smarty-team/smarty-admin/>

ä½¿ç”¨åŒæ ·çš„æ–¹å¼ï¼Œç»™æŒ‰é’®å®šåˆ¶å„ç§æ ·å¼ã€‚è¿™é‡Œé¢å°±ä¸èµ˜è¿°ã€‚æœ€åçœ‹ä¸€ä¸‹æ•ˆæœã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/48a319814f1e4f0598e37e0220970638~tplv-k3u1fbpfcp-zoom-1.image)

### ã€ Icon å›¾æ ‡æŒ‰é’®ã€‘å®ç°

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/16b0e63fbfaf469a8ea5e642a6735ea0~tplv-k3u1fbpfcp-zoom-1.image)

æ¥ä¸‹æ¥è¦ç»™æŒ‰é’®å¢åŠ å›¾æ ‡å®šåˆ¶åŠŸèƒ½ã€‚å®ç°å›¾æ ‡æŒ‰é’®ï¼Œé¦–å…ˆéœ€è¦å¼•å…¥å­—ä½“å›¾æ ‡åº“ã€‚

åœ¨ UnoCSS ä¸­å¼•å…¥å›¾æ ‡ï¼Œåªéœ€è¦åŠ è½½ @unocss/preset-icons é¢„è®¾å°±å¯ä»¥äº†ã€‚å®ƒæä¾›äº† iconify å›¾æ ‡æ¡†æ¶ä¸­å¤§é‡çš„å›¾è¡¨é›†ã€‚

å¼•å…¥çš„è¿‡ç¨‹æ˜¯ä»¥ä¸‹è¿™æ ·çš„ã€‚

åœ¨ [iconfy](https://icones.js.org/) ç½‘ç«™ä¸­æœ‰ä¸Šä¸‡ä¸ªå­—ä½“å›¾æ ‡å¯ä»¥é€‰æ‹©ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b3c1022116a48a78ca902a78cf3b774~tplv-k3u1fbpfcp-zoom-1.image)

å¦‚æœä½ æƒ³ä½¿ç”¨ä¸€ä¸ª ã€ ğŸ” ã€‘ æœç´¢ï¼Œé¦–å…ˆå¯ä»¥åœ¨ [iconfy](https://icones.js.org/) ä½¿ç”¨ã€searchã€‘æœç´¢ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªå¿ƒä»ªçš„å›¾æ ‡ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bda5a16eb8264a479095c11fa563857d~tplv-k3u1fbpfcp-zoom-1.image)

ç„¶åæ ¹æ®é¡µé¢ä¿¡æ¯ï¼ŒUnoä¸­ä½¿ç”¨ class="i-ic-baseline-search"ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨å¼•ç”¨è¿™ä¸ªå›¾æ ‡ï¼Œéå¸¸çš„æ–¹ä¾¿ã€‚

ä¸‹é¢å¼€å§‹å¼•å…¥è¿™ä¸ªåŠŸèƒ½ï¼Œé¦–å…ˆåœ¨ Unocss æ’ä»¶ä¸­æ·»åŠ  presetIcons é¢„è®¾ã€‚

/config/unocss.ts

```
export default () =>
 Â Unocss({
 Â  Â safelist,
 Â  Â presets: [
 Â  Â  Â  Â presetUno(), Â  
 Â  Â  Â  Â presetAttributify(), 
 Â  Â  Â  Â presetIcons(), Â // æ·»åŠ å›¾æ ‡é¢„è®¾
 Â   ]
  });
```

ä¸ºäº†èƒ½å¤Ÿåœ¨ UnoCSS ä¸­ä½¿ç”¨å˜é‡å®šä¹‰å­—ä½“å›¾æ ‡ï¼Œéœ€è¦å°†ä½¿ç”¨çš„å›¾æ ‡ååŠ å…¥åˆ° safelist ä¸­ã€‚

/config/unocss.ts

```
const safelist = [
 Â ...[
 Â  Â "search",
 Â  Â "edit",
 Â  Â "check",
 Â  Â "message",
 Â  Â "star-off",
 Â  Â "delete",
 Â  Â "add",
 Â  Â "share",
  ].map((v) => `i-ic-baseline-${v}`),
];
```

æœ€ååœ¨ Button ä¸­æ·»åŠ å­—ä½“å›¾æ ‡ã€‚

```
return () => <button 
 Â  Â  Â  Â class={`

 Â  Â  Â  Â  Â py-${size[props.size].y}
 Â  Â  Â  Â  Â  Â ...
 Â  Â  Â  Â  Â mx-1
 Â  Â  Â  Â  Â `}
 Â  Â  Â  Â > 
 Â  Â  Â  Â { props.icon !== "" ? <i class={`i-ic-baseline-${props.icon} p-3`}></i> : ""}
 Â  Â  Â  Â {slots.default ? slots.default() : ''}
 </button>
```

æœ€åç¼–å†™ä¸€è¡Œæµ‹è¯•ä»£ç å®éªŒä¸€ä¸‹æ•ˆæœã€‚

index.ts

```
 Â  Â  <div>
 Â  Â  Â  Â  <SButton color="blue" round plain icon="search" ></SButton>
 Â  Â  Â  Â  <SButton color="green" round plain icon="edit" ></SButton>
 Â  Â  Â  Â  <SButton color="gray" round plain icon="check" ></SButton>
 Â  Â  Â  Â  <SButton color="yellow" round plain icon="message" ></SButton>
 Â  Â  Â  Â  <SButton color="red" round plain icon="delete" ></SButton>
 Â  Â  </div>
```

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ab75c05a672404a9942383016a0d3cb~tplv-k3u1fbpfcp-zoom-1.image)


### Build æ—¶å•ç‹¬å¯¼å‡º CSS
ä½¿ç”¨ unocss åï¼Œå¦‚æœè¿è¡Œ pnpm build çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e024e824201e410ca3fb85937c670d05~tplv-k3u1fbpfcp-watermark.image?)

è§£å†³åŠæ³•æ˜¯æ ¹æ®æç¤ºå¢åŠ ç¼–è¯‘é€‰é¡¹ cssCodeSplit
vite.config.ts
```ts
  build: {
    ...
    cssCodeSplit: true,   // è¿½åŠ 
    ...
  },

```
ç®€å•è§£é‡Šä¸€ä¸‹åŸå› ï¼š 
cssCodeSplit è¿™ä¸ªé€‰é¡¹æ˜¯ä¸ºäº†å†³å®šåœ¨ç¼–è¯‘çš„æ—¶å€™æ˜¯å¦è¦ç‹¬ç«‹è¾“å‡º cssã€‚æ˜¾ç„¶è¿™é‡Œé¢åº”è¯¥é€‰æ‹©ä¸º trueã€‚

åŒæ ·åœ¨è°ƒç”¨ç»„ä»¶åº“çš„æ—¶å€™éœ€è¦å¼•å…¥ style.css æ‰å¯ä»¥è®©æ ·å¼ç”Ÿæ•ˆã€‚

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c5122a914a764fbd87940c24aa77374f~tplv-k3u1fbpfcp-watermark.image?)



![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2ef0a151099545f897f47e005a507d62~tplv-k3u1fbpfcp-watermark.image?)




æœ¬ç« å‚è€ƒä»£ç ï¼š https://github.com/smarty-team/smarty-admin/tree/chapter03/packages/smarty-ui-vite

## å¤ç›˜

è¿™èŠ‚è¯¾ä¸»è¦çš„å†…å®¹æ˜¯ä¸ºç»„ä»¶åº“æ·»åŠ æ ·å¼ç³»ç»Ÿã€‚æˆ‘ä»¬æ˜¯é€šè¿‡å¼•å…¥ UnoCSS æ¥å®ç°çš„ã€‚

æ€»ç»“å¦‚ä¸‹ï¼š

1.  å¼•å…¥UnoCSSå®ç°åŸå­åŒ–CSSæ ·å¼ï¼›
1.  ä½¿ç”¨å®‰å…¨åˆ—è¡¨å®ç°åœ¨UnoCSSä¸­ä½¿ç”¨å˜é‡å®šåˆ¶æ ·å¼ï¼›
1.  å¼•å…¥ @unocss/preset-iconsé¢„è®¾å®ç°å­—ä½“å›¾æ ‡æŒ‰é’®

éšç€æŠ€æœ¯çš„è¿›æ­¥ï¼Œå‡ºç°äº† UnoCSS è¿™æ ·çš„åŸå­åŒ– CSS å¼•æ“ï¼Œå¯ä»¥è®©æˆ‘ä»¬ç±»å‹ç³»ç»Ÿæ„å»ºå˜å¾—æ›´åŠ è½»æ¾ã€‚UnoCSS é…åˆ JSX è¯­æ³•ä¹Ÿéå¸¸å…·æœ‰å¯è¯»æ€§ã€‚

æœ€åç•™ä¸€äº›æ€è€ƒé¢˜å¸®åŠ©å¤§å®¶å¤ä¹ ï¼Œä¹Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºè®¨è®ºã€‚

-   Tailwind ä¸ UnoCSS çš„å…³ç³» ï¼Ÿ
-   æ€æ ·åœ¨ UnoCSS ä¸­ä½¿ç”¨å˜é‡å®šåˆ¶æ ·å¼ ï¼Ÿ
-   æ€æ ·åœ¨ UnoCSS ä¸­å¼•å…¥å­—ä½“å›¾æ ‡ ï¼Ÿ

ä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†ç»™ç»„ä»¶åº“æ·»åŠ æ–‡æ¡£ç³»ç»Ÿï¼Œä¸‹èŠ‚è¯¾è§ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f8a3ece64eb54824b3b464809505f42f~tplv-k3u1fbpfcp-zoom-1.image)